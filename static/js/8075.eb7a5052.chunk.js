"use strict";(self.webpackChunktelyza=self.webpackChunktelyza||[]).push([[8075],{13878:(e,r,o)=>{o.d(r,{A:()=>s});var i=o(96446),n=o(90310),t=o(94496),l=o(88911),a=o(70579);function s(e){let{title:r,imgUrl:o,action:s,filled:d,description:c,sx:h,...x}=e;return(0,a.jsxs)(l.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,n.X4)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,n.X4)(e.palette.grey[500],.08))},...h},...x,children:[(0,a.jsx)(i.A,{component:"img",alt:"empty content",src:o||"/static/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),r&&(0,a.jsx)(t.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:r}),c&&(0,a.jsx)(t.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),s&&s]})}},64346:(e,r,o)=>{o.d(r,{A:()=>m});o(96999);var i=o(17348),n=o(2607),t=o(40495),l=o(33686),a=o(88446),s=o(55744),d=o(8677),c=o(34535),h=o(90310);const x=(0,c.Ay)("div")((e=>{let{theme:r}=e;const o="light"===r.palette.mode;return{h1:{margin:0,...r.typography.h1},h2:{margin:0,...r.typography.h2},h3:{margin:0,...r.typography.h3},h4:{margin:0,...r.typography.h4},h5:{margin:0,...r.typography.h5},h6:{margin:0,...r.typography.h6},p:{margin:0,...r.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:r.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:r.spacing(3,3,3,8),color:r.palette.text.secondary,borderRadius:2*r.shape.borderRadius,backgroundColor:r.palette.background.neutral,[r.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:r.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:r.spacing(2),color:r.palette.common.white,borderRadius:r.shape.borderRadius,backgroundColor:o?r.palette.grey[900]:(0,h.X4)(r.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:r.spacing(.2,.5),color:r.palette.warning[o?"darker":"lighter"],backgroundColor:r.palette.warning[o?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(r.palette.divider),"th, td":{padding:r.spacing(1),border:"1px solid ".concat(r.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:r.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:r.palette.grey[o?300:700]},"&:checked":{"&:before":{backgroundColor:r.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(r.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var p=o(70579);function m(e){let{sx:r,...o}=e;return(0,p.jsx)(x,{sx:r,children:(0,p.jsx)(t.$,{rehypePlugins:[i.A,l.A,[n.A,{singleTilde:!1}]],components:g,...o})})}const g={img:e=>{let{...r}=e;return(0,p.jsx)(d.A,{alt:r.alt,ratio:"16/9",sx:{borderRadius:2},...r})},a:e=>{let{...r}=e;return r.href.includes("http")?(0,p.jsx)(a.A,{target:"_blank",rel:"noopener",...r}):(0,p.jsx)(a.A,{component:s.W,href:r.href,...r,children:r.children})}}},74840:(e,r,o)=>{o.d(r,{A:()=>c});var i=o(65043),n=o(88446),t=o(94496),l=o(26240),a=o(17861);function s(e){const r=(0,l.A)(),o=(0,a.u)(),i=r.breakpoints.up("xl"===o?"lg":o),n=("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&r.typography[e][i]?r.typography[e][i]:r.typography[e],t=(s=n.fontSize,Math.round(16*parseFloat(s)));var s;const d=Number(r.typography[e].lineHeight)*t,{fontWeight:c,letterSpacing:h}=r.typography[e];return{fontSize:t,lineHeight:d,fontWeight:c,letterSpacing:h}}var d=o(70579);const c=(0,i.forwardRef)(((e,r)=>{let{asLink:o,variant:i="body1",line:l=2,persistent:a=!1,children:c,sx:h,...x}=e;const{lineHeight:p}=s(i),m={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:l,WebkitBoxOrient:"vertical",...a&&{height:p*l},...h};return o?(0,d.jsx)(n.A,{color:"inherit",ref:r,variant:i,sx:{...m},...x,children:c}):(0,d.jsx)(t.A,{ref:r,variant:i,sx:{...m},...x,children:c})}))},18075:(e,r,o)=>{o.r(r),o.d(r,{default:()=>ce});var i=o(49367),n=o(65043),t=o(88911),l=o(19252),a=o(94496),s=o(27399),d=o(68713),c=o(18303),h=o(17861),x=o(95320),p=o(10871),m=o.n(p),g=o(63132);var u=o(13878),b=o(2771),j=o(7382),A=o(58846),f=o(85601),y=o(77628),v=o(91691),w=o(26353),k=o(38968),C=o(70579);const I={all:"fluent:mail-24-filled",inbox:"solar:inbox-bold",trash:"solar:trash-bin-trash-bold",drafts:"solar:file-text-bold",spam:"solar:danger-bold",sent:"iconamoon:send-fill",starred:"eva:star-fill",important:"material-symbols:label-important-rounded",social:"solar:tag-horizontal-bold-duotone",promotions:"solar:tag-horizontal-bold-duotone",forums:"solar:tag-horizontal-bold-duotone"};function S(e){let{selected:r,label:o,onClickNavItem:i,...n}=e;const{unreadCount:t,color:l,name:s}=o,d=I[o.id];return(0,C.jsxs)(k.A,{disableRipple:!0,onClick:i,sx:{px:0,height:40,color:"text.secondary",...r&&{color:"text.primary"},"&:hover":{bgcolor:"transparent"}},...n,children:[(0,C.jsx)(y.A,{icon:d,width:22,sx:{mr:2,color:l}}),(0,C.jsx)(w.A,{primary:s,primaryTypographyProps:{textTransform:"capitalize",typography:r?"subtitle2":"body2"}}),!!t&&(0,C.jsx)(a.A,{variant:"caption",children:t})]})}var R=o(90310),F=o(78185);function W(e){let{sx:r,...o}=e;return(0,C.jsxs)(t.A,{spacing:2,direction:"row",alignItems:"center",sx:{py:1,color:e=>(0,R.X4)(e.palette.grey[500],.24),...r},...o,children:[(0,C.jsx)(F.A,{variant:"circular",sx:{width:32,height:32,bgcolor:"currentColor"}}),(0,C.jsx)(F.A,{sx:{width:.5,height:10,bgcolor:"currentColor"}})]})}function T(e){let{sx:r,...o}=e;return(0,C.jsxs)(t.A,{spacing:2,direction:"row",alignItems:"center",sx:{py:1,...r},...o,children:[(0,C.jsx)(F.A,{variant:"circular",sx:{width:40,height:40}}),(0,C.jsxs)(t.A,{spacing:1,flexGrow:1,children:[(0,C.jsx)(F.A,{sx:{width:.75,height:10}}),(0,C.jsx)(F.A,{sx:{width:.5,height:10}})]})]})}function z(e){let{loading:r,openNav:o,onCloseNav:i,labels:n,selectedLabelId:l,handleClickLabel:a,onToggleCompose:s}=e;const d=(0,h.Q)("up","md"),c=(0,C.jsx)(C.Fragment,{children:[...Array(8)].map(((e,r)=>(0,C.jsx)(W,{},r)))}),x=(0,C.jsx)(C.Fragment,{children:n.map((e=>(0,C.jsx)(S,{label:e,selected:l===e.id,onClickNavItem:()=>{a(e.id)}},e.id)))}),p=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.A,{sx:{p:e=>({xs:e.spacing(2.5,2.5,2,2.5),md:e.spacing(2,1.5)})},children:(0,C.jsx)(f.A,{fullWidth:!0,color:"inherit",variant:"contained",startIcon:(0,C.jsx)(y.A,{icon:"solar:pen-bold"}),onClick:s,children:"Compose"})}),(0,C.jsx)(v.A,{children:(0,C.jsxs)(t.A,{sx:{px:{xs:3.5,md:2.5}},children:[r&&c,!!n.length&&x]})})]});return d?(0,C.jsx)(t.A,{sx:{width:200,flexShrink:0},children:p}):(0,C.jsx)(A.Ay,{open:o,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:260}},children:p})}var L=o(67784),M=o(51787),G=o(1413),N=o(96446),U=o(60587);function O(e){let{mail:r,selected:o,sx:i,...n}=e;return(0,C.jsxs)(k.A,{sx:{p:1,mb:.5,borderRadius:1,...o&&{bgcolor:"action.selected"},...i},...n,children:[(0,C.jsx)(U.A,{alt:r.from.name,src:r.from.avatarUrl?"".concat(r.from.avatarUrl):"",sx:{mr:2},children:r.from.name.charAt(0).toUpperCase()}),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.A,{primary:r.from.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:r.message,secondaryTypographyProps:{noWrap:!0,component:"span",variant:r.isUnread?"subtitle2":"body2",color:r.isUnread?"text.primary":"text.secondary"}}),(0,C.jsxs)(t.A,{alignItems:"flex-end",sx:{ml:2,height:44},children:[(0,C.jsx)(a.A,{noWrap:!0,variant:"body2",component:"span",sx:{mb:1.5,fontSize:12,color:"text.disabled"},children:(0,G.A)(new Date(r.createdAt),{addSuffix:!1})}),!!r.isUnread&&(0,C.jsx)(N.A,{sx:{bgcolor:"info.main",width:8,height:8,borderRadius:"50%"}})]})]})]})}function P(e){let{loading:r,mails:o,openMail:i,onCloseMail:n,onClickMail:l,selectedLabelId:s,selectedMailId:d}=e;const c=(0,h.Q)("up","md"),x=(0,C.jsx)(C.Fragment,{children:[...Array(8)].map(((e,r)=>(0,C.jsx)(T,{},r)))}),p=(0,C.jsx)(C.Fragment,{children:o.allIds.map((e=>(0,C.jsx)(O,{mail:o.byId[e],selected:d===e,onClick:()=>{l(e)}},e)))}),m=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.A,{sx:{p:2},children:c?(0,C.jsx)(L.A,{placeholder:"Search...",InputProps:{startAdornment:(0,C.jsx)(M.A,{position:"start",children:(0,C.jsx)(y.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}):(0,C.jsx)(a.A,{variant:"h6",sx:{textTransform:"capitalize"},children:s})}),(0,C.jsxs)(v.A,{sx:{px:2},children:[r&&x,!!o.allIds.length&&p]})]});return c?(0,C.jsx)(t.A,{sx:{width:320,flexShrink:0,borderRadius:1.5,bgcolor:"background.default"},children:m}):(0,C.jsx)(A.Ay,{open:i,onClose:n,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:m})}var E=o(71716);function D(e){let{onOpenNav:r,onOpenMail:o,...i}=e;return(0,C.jsxs)(t.A,{spacing:2,direction:"row",alignItems:"center",sx:{py:1},...i,children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(E.A,{onClick:r,children:(0,C.jsx)(y.A,{icon:"fluent:mail-24-filled"})}),o&&(0,C.jsx)(E.A,{onClick:o,children:(0,C.jsx)(y.A,{icon:"solar:chat-round-dots-bold"})})]}),(0,C.jsx)(L.A,{fullWidth:!0,size:"small",placeholder:"Search...",InputProps:{startAdornment:(0,C.jsx)(M.A,{position:"start",children:(0,C.jsx)(y.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})]})}var X=o(8555),_=o(48923),H=o(12220),V=o(59106),B=o(33174);const q=1998,Q=24;function Z(e){let{onCloseCompose:r}=e;const o=(0,h.Q)("up","sm"),[i,l]=(0,n.useState)(""),s=(0,c.C)(),d=(0,n.useCallback)((e=>{l(e)}),[]);return(0,C.jsxs)(_.Z,{children:[(s.value||!o)&&(0,C.jsx)(H.A,{open:!0,sx:{zIndex:q}}),(0,C.jsxs)(X.A,{sx:{right:0,bottom:0,borderRadius:2,display:"flex",position:"fixed",zIndex:q+1,m:"".concat(Q,"px"),overflow:"hidden",flexDirection:"column",boxShadow:e=>e.customShadows.dropdown,...s.value&&{m:0,right:Q/2,bottom:Q/2,width:"calc(100% - ".concat(Q,"px)"),height:"calc(100% - ".concat(Q,"px)")}},children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",sx:{bgcolor:"background.neutral",p:e=>e.spacing(1.5,1,1.5,2)},children:[(0,C.jsx)(a.A,{variant:"h6",sx:{flexGrow:1},children:"New Message"}),(0,C.jsx)(E.A,{onClick:s.onToggle,children:(0,C.jsx)(y.A,{icon:s?"eva:collapse-fill":"eva:expand-fill"})}),(0,C.jsx)(E.A,{onClick:r,children:(0,C.jsx)(y.A,{icon:"mingcute:close-line"})})]}),(0,C.jsx)(V.Ay,{placeholder:"To",endAdornment:(0,C.jsxs)(t.A,{direction:"row",spacing:.5,sx:{typography:"subtitle2"},children:[(0,C.jsx)(N.A,{sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"Cc"}),(0,C.jsx)(N.A,{sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"Bcc"})]}),sx:{px:2,height:48,borderBottom:e=>"solid 1px ".concat((0,R.X4)(e.palette.grey[500],.08))}}),(0,C.jsx)(V.Ay,{placeholder:"Subject",sx:{px:2,height:48,borderBottom:e=>"solid 1px ".concat((0,R.X4)(e.palette.grey[500],.08))}}),(0,C.jsxs)(t.A,{spacing:2,flexGrow:1,sx:{p:2},children:[(0,C.jsx)(B.A,{simple:!0,id:"compose-mail",value:i,onChange:d,placeholder:"Type a message",sx:{"& .ql-editor":{},...s.value&&{height:1,"& .quill":{height:1},"& .ql-editor":{maxHeight:"unset"}}}}),(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",flexGrow:1,children:[(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"solar:gallery-add-bold"})}),(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"eva:attach-2-fill"})})]}),(0,C.jsx)(f.A,{variant:"contained",color:"primary",endIcon:(0,C.jsx)(y.A,{icon:"iconamoon:send-fill"}),children:"Send"})]})]})]})]})}var $=o(88446),K=o(39336),J=o(77739),Y=o(30279),ee=o(1273),re=o(75429),oe=o(52157),ie=o(35122),ne=o(64346),te=o(74840),le=o(72419);function ae(e){let{mail:r,renderLabel:o}=e;const i=(0,c.C)(!0);if(!r)return(0,C.jsx)(u.A,{title:"No Conversation Selected",description:"Select a conversation to read",imgUrl:"/static/assets/icons/empty/ic_email_selected.svg",sx:{borderRadius:1.5,bgcolor:"background.default"}});const n=(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",flexShrink:0,sx:{height:56,pl:2,pr:1},children:[(0,C.jsx)(t.A,{direction:"row",spacing:1,flexGrow:1,children:r.labelIds.map((e=>{const r=o(e);return r?(0,C.jsx)(ie.A,{sx:{bgcolor:(0,R.X4)(r.color,.16),color:e=>"light"===e.palette.mode?(0,R.e$)(r.color,.24):(0,R.a)(r.color,.24)},children:r.name},r.id):null}))}),(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(ee.A,{color:"warning",icon:(0,C.jsx)(y.A,{icon:"eva:star-outline"}),checkedIcon:(0,C.jsx)(y.A,{icon:"eva:star-fill"}),checked:r.isStarred}),(0,C.jsx)(ee.A,{color:"warning",icon:(0,C.jsx)(y.A,{icon:"material-symbols:label-important-rounded"}),checkedIcon:(0,C.jsx)(y.A,{icon:"material-symbols:label-important-rounded"}),checked:r.isImportant}),(0,C.jsx)(J.A,{title:"Archive",children:(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"solar:archive-down-minimlistic-bold"})})}),(0,C.jsx)(J.A,{title:"Mark Unread",children:(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"fluent:mail-unread-20-filled"})})}),(0,C.jsx)(J.A,{title:"Trash",children:(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"solar:trash-bin-trash-bold"})})}),(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"eva:more-vertical-fill"})})]})]}),l=(0,C.jsxs)(t.A,{spacing:2,direction:"row",flexShrink:0,sx:{p:2},children:[(0,C.jsxs)(te.A,{variant:"subtitle2",sx:{flexGrow:1},children:["Re: ",r.subject]}),(0,C.jsxs)(t.A,{spacing:.5,children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",children:[(0,C.jsx)(E.A,{size:"small",children:(0,C.jsx)(y.A,{width:18,icon:"solar:reply-bold"})}),(0,C.jsx)(E.A,{size:"small",children:(0,C.jsx)(y.A,{width:18,icon:"solar:multiple-forward-left-broken"})}),(0,C.jsx)(E.A,{size:"small",children:(0,C.jsx)(y.A,{width:18,icon:"solar:forward-bold"})})]}),(0,C.jsx)(a.A,{variant:"caption",noWrap:!0,sx:{color:"text.disabled"},children:(0,oe.uK)(r.createdAt)})]})]}),s=(0,C.jsxs)(t.A,{flexShrink:0,direction:"row",alignItems:"center",sx:{p:e=>e.spacing(2,2,1,2)},children:[(0,C.jsx)(U.A,{alt:r.from.name,src:r.from.avatarUrl?"".concat(r.from.avatarUrl):"",sx:{mr:2},children:r.from.name.charAt(0).toUpperCase()}),(0,C.jsx)(w.A,{primary:(0,C.jsxs)(C.Fragment,{children:[r.from.name,(0,C.jsx)(N.A,{component:"span",sx:{typography:"body2",color:"text.disabled"},children:" <".concat(r.from.email,">")})]}),secondary:(0,C.jsxs)(C.Fragment,{children:["To: ",r.to.map((e=>(0,C.jsx)($.A,{sx:{color:"text.secondary"},children:"".concat(e.email,", ")},e.email)))]}),secondaryTypographyProps:{mt:.5,noWrap:!0,component:"span",typography:"caption"}})]}),d=(0,C.jsxs)(t.A,{spacing:1,sx:{p:1,borderRadius:1,bgcolor:"background.neutral"},children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsxs)(re.A,{onClick:i.onToggle,sx:{color:"text.secondary",typography:"caption",borderRadius:.5},children:[(0,C.jsx)(y.A,{icon:"eva:attach-2-fill",sx:{mr:.5}}),r.attachments.length," attachments",(0,C.jsx)(y.A,{icon:i.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",width:16,sx:{ml:.5}})]}),(0,C.jsx)(f.A,{startIcon:(0,C.jsx)(y.A,{icon:"eva:cloud-download-fill"}),children:"Download"})]}),(0,C.jsx)(Y.A,{in:i.value,unmountOnExit:!0,timeout:"auto",children:(0,C.jsx)(t.A,{direction:"row",flexWrap:"wrap",spacing:1,children:r.attachments.map((e=>(0,C.jsx)(t.A,{alignItems:"center",justifyContent:"center",sx:{width:40,height:40,flexShrink:0,borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.neutral"},children:(0,C.jsx)(le.Ay,{tooltip:!0,imageView:!0,file:e.preview,onDownload:()=>console.info("DOWNLOAD"),sx:{width:24,height:24}})},e.id)))})})]}),h=(0,C.jsx)(N.A,{sx:{py:3,flexGrow:1,overflow:{xs:"auto",md:"hidden"}},children:(0,C.jsx)(v.A,{children:(0,C.jsx)(ne.A,{children:r.message,sx:{px:2,"& p":{typography:"body2"}}})})}),x=(0,C.jsxs)(t.A,{spacing:2,sx:{p:e=>e.spacing(0,2,2,2)},children:[(0,C.jsx)(B.A,{simple:!0,id:"reply-mail"}),(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",children:[(0,C.jsxs)(t.A,{direction:"row",alignItems:"center",flexGrow:1,children:[(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"solar:gallery-add-bold"})}),(0,C.jsx)(E.A,{children:(0,C.jsx)(y.A,{icon:"eva:attach-2-fill"})})]}),(0,C.jsx)(f.A,{variant:"contained",color:"primary",endIcon:(0,C.jsx)(y.A,{icon:"iconamoon:send-fill"}),children:"Send"})]})]});return(0,C.jsxs)(t.A,{flexGrow:1,sx:{width:1,minWidth:0,borderRadius:1.5,bgcolor:"background.default"},children:[n,(0,C.jsx)(K.A,{sx:{borderStyle:"dashed"}}),l,(0,C.jsx)(K.A,{sx:{borderStyle:"dashed"}}),s,!!r.attachments.length&&(0,C.jsxs)(t.A,{sx:{px:2},children:[" ",d," "]}),h,x]})}const se="inbox";function de(){const e=(0,d.rd)(),r=(0,d.ok)(),o=r.get("label")||se,i=r.get("id")||"",p=(0,h.Q)("up","md"),A=(0,b.Mp)(),f=(0,c.C)(),y=(0,c.C)(),v=(0,c.C)(),{labels:w,labelsLoading:k}=function(){const e=g.vZ.mail.labels,{data:r,isLoading:o,error:i,isValidating:t}=(0,x.Ay)(e,g.GO);return(0,n.useMemo)((()=>({labels:(null===r||void 0===r?void 0:r.labels)||[],labelsLoading:o,labelsError:i,labelsValidating:t,labelsEmpty:!o&&!(null!==r&&void 0!==r&&r.labels.length)})),[null===r||void 0===r?void 0:r.labels,i,o,t])}(),{mails:I,mailsLoading:S,mailsError:R,mailsEmpty:F}=function(e){const r=e?[g.vZ.mail.list,{params:{labelId:e}}]:"",{data:o,isLoading:i,error:t,isValidating:l}=(0,x.Ay)(r,g.GO);return(0,n.useMemo)((()=>{const e=m()(null===o||void 0===o?void 0:o.mails,"id")||{},r=Object.keys(e)||[];return{mails:{byId:e,allIds:r},mailsLoading:i,mailsError:t,mailsValidating:l,mailsEmpty:!i&&!r.length}}),[null===o||void 0===o?void 0:o.mails,t,i,l])}(o),{mail:W,mailLoading:T,mailError:L}=function(e){const r=e?[g.vZ.mail.details,{params:{mailId:e}}]:"",{data:o,isLoading:i,error:t,isValidating:l}=(0,x.Ay)(r,g.GO);return(0,n.useMemo)((()=>({mail:null===o||void 0===o?void 0:o.mail,mailLoading:i,mailError:t,mailValidating:l})),[null===o||void 0===o?void 0:o.mail,t,i,l])}(i),M=I.allIds[0]||"",G=(0,n.useCallback)((()=>{f.value&&f.onFalse(),v.onToggle()}),[v,f]),N=(0,n.useCallback)((r=>{if(p||f.onFalse(),r){const o=r!==se?"".concat(s.f.dashboard.mail,"?label=").concat(r):s.f.dashboard.mail;e.push(o)}}),[f,e,p]),U=(0,n.useCallback)((r=>{p||y.onFalse();const i=o!==se?"".concat(s.f.dashboard.mail,"?id=").concat(r,"&label=").concat(o):"".concat(s.f.dashboard.mail,"?id=").concat(r);e.push(i)}),[y,e,o,p]);(0,n.useEffect)((()=>{(R||L)&&e.push(s.f.dashboard.mail)}),[L,R,e]),(0,n.useEffect)((()=>{!i&&M&&U(M)}),[M,U,i]),(0,n.useEffect)((()=>{v.value?document.body.style.overflow="hidden":document.body.style.overflow=""}),[v.value]);const O=(0,C.jsx)(j.x,{sx:{borderRadius:1.5,bgcolor:"background.default"}}),E=(0,C.jsx)(u.A,{title:"Nothing in ".concat(o),description:"This folder is empty",imgUrl:"/static/assets/icons/empty/ic_folder_empty.svg",sx:{borderRadius:1.5,maxWidth:{md:320},bgcolor:"background.default"}}),X=(0,C.jsx)(z,{loading:k,openNav:f.value,onCloseNav:f.onFalse,labels:w,selectedLabelId:o,handleClickLabel:N,onToggleCompose:G}),_=(0,C.jsx)(P,{mails:I,loading:S,openMail:y.value,onCloseMail:y.onFalse,onClickMail:U,selectedLabelId:o,selectedMailId:i}),H=(0,C.jsx)(C.Fragment,{children:F?(0,C.jsx)(u.A,{imgUrl:"/static/assets/icons/empty/ic_email_disabled.svg",sx:{borderRadius:1.5,bgcolor:"background.default",...!p&&{display:"none"}}}):(0,C.jsx)(ae,{mail:W,renderLabel:e=>w.filter((r=>r.id===e))[0]})});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.A,{maxWidth:!A.themeStretch&&"xl",children:[(0,C.jsx)(a.A,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Mail"}),(0,C.jsxs)(t.A,{spacing:1,sx:{p:1,borderRadius:2,overflow:"hidden",position:"relative",bgcolor:"background.neutral"},children:[!p&&(0,C.jsx)(D,{onOpenNav:f.onTrue,onOpenMail:F?null:y.onTrue}),(0,C.jsxs)(t.A,{spacing:1,direction:"row",sx:{minHeight:{md:720},height:{xs:800,md:"72vh"}},children:[X,F?E:_,T?O:H]})]})]}),v.value&&(0,C.jsx)(Z,{onCloseCompose:v.onFalse})]})}function ce(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.mg,{children:(0,C.jsx)("title",{children:" Game: Mail"})}),(0,C.jsx)(de,{})]})}}}]);
//# sourceMappingURL=8075.eb7a5052.chunk.js.map