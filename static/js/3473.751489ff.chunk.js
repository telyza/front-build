"use strict";(self.webpackChunktelyza=self.webpackChunktelyza||[]).push([[3473],{48330:(e,n,t)=>{t.d(n,{Ay:()=>y,fT:()=>i,ZN:()=>k});var o=t(41210),s=t(407),r=t(2431),a=t(52157);function i(e,n){const t=(new Date).getFullYear(),i=e?(0,o.A)(e):null,l=n?(0,o.A)(n):null,d=t===i&&t===l,c=!(!e||!n)&&(0,s.A)(new Date(e),new Date(n)),x=!(!e||!n)&&(0,r.A)(new Date(e),new Date(n));return d?x?c?(0,a.ts)(n,"dd MMM yy"):"".concat((0,a.ts)(e,"dd")," - ").concat((0,a.ts)(n,"dd MMM yy")):"".concat((0,a.ts)(e,"dd MMM")," - ").concat((0,a.ts)(n,"dd MMM yy")):"".concat((0,a.ts)(e,"dd MMM yy")," - ").concat((0,a.ts)(n,"dd MMM yy"))}var l=t(8555),d=t(88911),c=t(85601),x=t(83462),u=t(4219),h=t(29347),p=t(35316),m=t(66124),g=t(52083),b=t(15461),j=t(17861),A=t(70579);function y(e){let{title:n="Select date range",variant:t="input",startDate:o,endDate:s,onChangeStartDate:r,onChangeEndDate:a,open:i,onClose:y,error:f}=e;const k=(0,j.Q)("up","md"),v="calendar"===t;return(0,A.jsxs)(x.A,{fullWidth:!0,maxWidth:!v&&"xs",open:i,onClose:y,PaperProps:{sx:{...v&&{maxWidth:720}}},children:[(0,A.jsx)(u.A,{sx:{pb:2},children:n}),(0,A.jsxs)(p.A,{sx:{...v&&k&&{overflow:"unset"}},children:[(0,A.jsx)(d.A,{justifyContent:"center",spacing:v?3:2,direction:v&&k?"row":"column",sx:{pt:1},children:v?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.A,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,A.jsx)(b.x,{value:o,onChange:r})}),(0,A.jsx)(l.A,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,A.jsx)(b.x,{value:s,onChange:a})})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.l,{label:"Start date",value:o,onChange:r}),(0,A.jsx)(g.l,{label:"End date",value:s,onChange:a})]})}),f&&(0,A.jsx)(m.A,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,A.jsxs)(h.A,{children:[(0,A.jsx)(c.A,{variant:"outlined",color:"inherit",onClick:y,children:"Cancel"}),(0,A.jsx)(c.A,{disabled:f,variant:"contained",onClick:y,children:"Apply"})]})]})}var f=t(65043);function k(e,n){const[t,o]=(0,f.useState)(!1),[s,r]=(0,f.useState)(n),[l,d]=(0,f.useState)(e),c=!(!e||!n)&&new Date(e).getTime()>new Date(n).getTime(),x=(0,f.useCallback)((()=>{o(!0)}),[]),u=(0,f.useCallback)((()=>{o(!1)}),[]);return{startDate:l,endDate:s,onChangeStartDate:(0,f.useCallback)((e=>{d(e)}),[]),onChangeEndDate:(0,f.useCallback)((e=>{c&&r(null),r(e)}),[c]),open:t,onOpen:x,onClose:u,onReset:(0,f.useCallback)((()=>{d(null),r(null)}),[]),selected:!!l&&!!s,error:c,label:"".concat((0,a.ts)(l)," - ").concat((0,a.ts)(s)),shortLabel:i(l,s),setStartDate:d,setEndDate:r}}},1448:(e,n,t)=>{t.d(n,{T:()=>d});var o=t(85601),s=t(83462),r=t(4219),a=t(29347),i=t(35316),l=t(70579);function d(e){let{title:n,content:t,action:d,open:c,onClose:x,...u}=e;return(0,l.jsxs)(s.A,{fullWidth:!0,maxWidth:"xs",open:c,onClose:x,...u,children:[(0,l.jsx)(r.A,{sx:{pb:2},children:n}),t&&(0,l.jsxs)(i.A,{sx:{typography:"body2"},children:[" ",t," "]}),(0,l.jsxs)(a.A,{children:[d,(0,l.jsx)(o.A,{variant:"outlined",color:"inherit",onClick:x,children:"Cancel"})]})]})}},13878:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(96446),s=t(90310),r=t(94496),a=t(88911),i=t(70579);function l(e){let{title:n,imgUrl:t,action:l,filled:d,description:c,sx:x,...u}=e;return(0,i.jsxs)(a.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,s.X4)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,s.X4)(e.palette.grey[500],.08))},...x},...u,children:[(0,i.jsx)(o.A,{component:"img",alt:"empty content",src:t||"/static/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),n&&(0,i.jsx)(r.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),c&&(0,i.jsx)(r.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),l&&l]})}},91374:(e,n,t)=>{t.d(n,{Ay:()=>b,xk:()=>f});var o=t(80033),s=t(42993),r=t(14829),a=t(49502),i=t(57483),l=t(60519),d=t(91706),c=t(96446),x=t(77628),u=t(16103),h=t(26240),p=t(90310),m=t(70579);function g(){const e=(0,h.A)();return(0,m.jsx)(u.A,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,p.X4)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,p.X4)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}function b(e){let{slides:n,disabledZoom:t,disabledVideo:o,disabledTotal:s,disabledCaptions:r,disabledSlideshow:a,disabledThumbnails:i,disabledFullscreen:l,onGetCurrentIndex:c,...u}=e;const h=n?n.length:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g,{}),(0,m.jsx)(d.Ay,{slides:n,animation:{swipe:240},carousel:{finite:h<5},controller:{closeOnBackdropClick:!0},plugins:j({disabledZoom:t,disabledVideo:o,disabledCaptions:r,disabledSlideshow:a,disabledThumbnails:i,disabledFullscreen:l}),on:{view:e=>{let{index:n}=e;c&&c(n)}},toolbar:{buttons:[(0,m.jsx)(A,{totalItems:h,disabledTotal:s},0),"close"]},render:{iconClose:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:close"}),iconZoomIn:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:pause"}),iconPrev:()=>(0,m.jsx)(x.A,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>(0,m.jsx)(x.A,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>(0,m.jsx)(x.A,{width:24,icon:"carbon:fit-to-screen"})},...u})]})}function j(e){let{disabledZoom:n,disabledVideo:t,disabledCaptions:d,disabledSlideshow:c,disabledThumbnails:x,disabledFullscreen:u}=e,h=[r.A,i.A,a.A,l.A,s.A,o.A];return x&&(h=h.filter((e=>e!==l.A))),d&&(h=h.filter((e=>e!==r.A))),u&&(h=h.filter((e=>e!==i.A))),c&&(h=h.filter((e=>e!==a.A))),n&&(h=h.filter((e=>e!==o.A))),t&&(h=h.filter((e=>e!==s.A))),h}function A(e){let{totalItems:n,disabledTotal:t}=e;const{currentIndex:o}=(0,d.mp)();return t?null:(0,m.jsxs)(c.A,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,m.jsxs)("strong",{children:[" ",o+1," "]})," / ",n]})}var y=t(65043);function f(e){const[n,t]=(0,y.useState)(-1);return{selected:n,open:n>=0,onOpen:(0,y.useCallback)((n=>{const o=e.findIndex((e=>"video"===e.type?e.poster===n:e.src===n));t(o)}),[e]),onClose:(0,y.useCallback)((()=>{t(-1)}),[]),setSelected:t}}},18526:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(94496),s=t(8555),r=t(70579);function a(e){let{query:n,sx:t,...a}=e;return n?(0,r.jsxs)(s.A,{sx:{bgcolor:"unset",textAlign:"center",...t},...a,children:[(0,r.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Not Found"}),(0,r.jsxs)(o.A,{variant:"body2",children:["No results found for \xa0",(0,r.jsxs)("strong",{children:['"',n,'"']}),".",(0,r.jsx)("br",{})," Try checking for typos or using complete words."]})]}):(0,r.jsx)(o.A,{variant:"body2",sx:t,children:"Please enter keywords"})}},83473:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ce});var o=t(49367),s=t(65043),r=t(98762),a=t(88911),i=t(19252),l=t(94496),d=t(95320),c=t(63132);const x=c.vZ.kanban,u={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};async function h(e){(0,d.Tk)(x,(n=>{const t=n.board,o=e;return{...n,board:{...t,columns:o}}}),!1)}var p=t(91691),m=t(13878),g=t(8555),b=t(85601),j=t(90310),A=t(18303),y=t(77628),f=t(30291),k=t(5537),v=t(59106),C=t(1470),w=t(52491),T=t(28453),D=t(70579);function S(e){let{status:n,onAddTask:t,onCloseAddTask:o}=e;const[r,a]=(0,s.useState)(""),i=(0,s.useMemo)((()=>({id:(0,w.A)(),status:n,name:r.trim(),priority:"medium",attachments:[],labels:[],comments:[],assignee:[],due:[null,null],reporter:{id:T.EV.id(16),name:T.EV.fullName(16),avatarUrl:T.EV.image.avatar(16)}})),[r,n]),l=(0,s.useCallback)((e=>{"Enter"===e.key&&r&&t(i)}),[i,r,t]),d=(0,s.useCallback)((()=>{r?t(i):o()}),[i,r,t,o]),c=(0,s.useCallback)((e=>{a(e.target.value)}),[]);return(0,D.jsx)(k.x,{onClickAway:d,children:(0,D.jsx)(g.A,{sx:{borderRadius:1.5,bgcolor:"background.default",boxShadow:e=>e.customShadows.z1},children:(0,D.jsx)(v.Ay,{autoFocus:!0,multiline:!0,fullWidth:!0,placeholder:"Task name",value:r,onChange:c,onKeyUp:l,sx:{px:2,height:56,["& .".concat(C.A.input)]:{typography:"subtitle2"}}})})})}var I=t(96446),_=t(60587),z=t(26240),R=t(46936),W=t(86826),F=t(74611),E=t(26487),M=t(58846),U=t(39336),P=t(77739),O=t(67784),N=t(71716),L=t(34535),H=t(48330);function G(e){let{sx:n,...t}=e;return(0,D.jsx)(v.Ay,{sx:{["&.".concat(C.A.root)]:{py:.75,borderRadius:1,typography:"h6",borderWidth:2,borderStyle:"solid",borderColor:"transparent",transition:e=>e.transitions.create(["padding-left","border-color"]),["&.".concat(C.A.focused)]:{pl:1.5,borderColor:"text.primary"}},["& .".concat(C.A.input)]:{typography:"h6"},...n},...t})}var V=t(94814),Z=t(17861),X=t(1448),K=t(69995);function q(e){let{liked:n,onLike:t,taskName:o,onDelete:r,taskStatus:i,onCloseDetails:l}=e;const d=(0,Z.Q)("up","sm"),c=(0,A.C)(),x=(0,K.f)(),[u,h]=(0,s.useState)(i),p=(0,s.useCallback)((e=>{x.onClose(),h(e)}),[x]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",sx:{p:e=>e.spacing(2.5,1,2.5,2.5)},children:[!d&&(0,D.jsx)(P.A,{title:"Back",children:(0,D.jsx)(N.A,{onClick:l,sx:{mr:1},children:(0,D.jsx)(y.A,{icon:"eva:arrow-ios-back-fill"})})}),(0,D.jsx)(b.A,{size:"small",variant:"soft",endIcon:(0,D.jsx)(y.A,{icon:"eva:arrow-ios-downward-fill",width:16,sx:{ml:-.5}}),onClick:x.onOpen,children:u}),(0,D.jsxs)(a.A,{direction:"row",justifyContent:"flex-end",flexGrow:1,children:[(0,D.jsx)(P.A,{title:"Like",children:(0,D.jsx)(N.A,{color:n?"default":"primary",onClick:t,children:(0,D.jsx)(y.A,{icon:"ic:round-thumb-up"})})}),(0,D.jsx)(P.A,{title:"Delete task",children:(0,D.jsx)(N.A,{onClick:c.onTrue,children:(0,D.jsx)(y.A,{icon:"solar:trash-bin-trash-bold"})})}),(0,D.jsx)(N.A,{children:(0,D.jsx)(y.A,{icon:"eva:more-vertical-fill"})})]})]}),(0,D.jsx)(K.A,{open:x.open,onClose:x.onClose,arrow:"top-right",sx:{width:140},children:["To Do","In Progress","Ready To Test","Done"].map((e=>(0,D.jsx)(V.A,{selected:u===e,onClick:()=>{p(e)},children:e},e)))}),(0,D.jsx)(X.T,{open:c.value,onClose:c.onFalse,title:"Delete",content:(0,D.jsxs)(D.Fragment,{children:["Are you sure want to delete ",(0,D.jsxs)("strong",{children:[" ",o," "]}),"?"]}),action:(0,D.jsx)(b.A,{variant:"contained",color:"error",onClick:r,children:"Delete"})})]})}var B=t(83462),Q=t(30681),Y=t(4219),J=t(26353),$=t(35316),ee=t(51787),ne=t(23851),te=t(18526);const oe=64;function se(e){let{assignee:n=[],open:t,onClose:o}=e;const[r,a]=(0,s.useState)(""),i=(0,s.useCallback)((e=>{a(e.target.value)}),[]),d=function(e){let{inputData:n,query:t}=e;t&&(n=n.filter((e=>-1!==e.name.toLowerCase().indexOf(t.toLowerCase())||-1!==e.email.toLowerCase().indexOf(t.toLowerCase()))));return n}({inputData:T.pr,query:r}),c=!d.length&&!!r;return(0,D.jsxs)(B.A,{fullWidth:!0,maxWidth:"xs",open:t,onClose:o,children:[(0,D.jsxs)(Y.A,{sx:{pb:0},children:["Contacts ",(0,D.jsxs)(l.A,{component:"span",children:["(",T.pr.length,")"]})]}),(0,D.jsx)(I.A,{sx:{px:3,py:2.5},children:(0,D.jsx)(O.A,{fullWidth:!0,value:r,onChange:i,placeholder:"Search...",InputProps:{startAdornment:(0,D.jsx)(ee.A,{position:"start",children:(0,D.jsx)(y.A,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),(0,D.jsx)($.A,{sx:{p:0},children:c?(0,D.jsx)(te.A,{query:r,sx:{mt:3,mb:10}}):(0,D.jsx)(p.A,{sx:{px:2.5,height:6*oe},children:d.map((e=>{const t=n.map((e=>e.name)).includes(e.name);return(0,D.jsxs)(Q.Ay,{disableGutters:!0,secondaryAction:(0,D.jsx)(b.A,{size:"small",color:t?"primary":"inherit",startIcon:(0,D.jsx)(y.A,{width:16,icon:t?"eva:checkmark-fill":"mingcute:add-line",sx:{mr:-.5}}),children:t?"Assigned":"Assign"}),sx:{height:oe},children:[(0,D.jsx)(ne.A,{children:(0,D.jsx)(_.A,{src:e.avatarUrl})}),(0,D.jsx)(J.A,{primaryTypographyProps:{typography:"subtitle2",sx:{mb:.25}},secondaryTypographyProps:{typography:"caption"},primary:e.name,secondary:e.email})]},e.id)}))})})]})}var re=t(75429);function ae(e){let{priority:n,onChangePriority:t}=e;return(0,D.jsx)(a.A,{direction:"row",flexWrap:"wrap",spacing:1,children:["low","medium","hight"].map((e=>(0,D.jsxs)(re.A,{onClick:()=>t(e),sx:{py:.5,pl:.75,pr:1.25,fontSize:12,borderRadius:1,lineHeight:"20px",textTransform:"capitalize",fontWeight:"fontWeightBold",boxShadow:e=>"inset 0 0 0 1px ".concat((0,j.X4)(e.palette.grey[500],.24)),...e===n&&{boxShadow:e=>"inset 0 0 0 2px ".concat(e.palette.text.primary)}},children:[(0,D.jsx)(y.A,{icon:("low"===e?"solar:double-alt-arrow-down-bold-duotone":"medium"===e&&"solar:double-alt-arrow-right-bold-duotone")||"solar:double-alt-arrow-up-bold-duotone",sx:{mr:.5,..."low"===e&&{color:"info.main"},..."medium"===e&&{color:"warning.main"},..."hight"===e&&{color:"error.main"}}}),e]},e)))})}var ie=t(42898);function le(e){let{attachments:n}=e;const[t,o]=(0,s.useState)(n),r=(0,s.useCallback)((e=>{const n=e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)})));o([...t,...n])}),[t]),i=(0,s.useCallback)((e=>{const n=t.filter((n=>n!==e));o(n)}),[t]);return(0,D.jsxs)(a.A,{direction:"row",flexWrap:"wrap",children:[(0,D.jsx)(ie.gx,{thumbnail:!0,files:t,onRemove:e=>i(e),sx:{width:64,height:64}}),(0,D.jsx)(ie.Zc,{onDrop:r})]})}var de=t(52157),ce=t(8677),xe=t(91374);function ue(e){let{comments:n}=e;const t=n.filter((e=>"image"===e.messageType)).map((e=>({src:e.message}))),o=(0,xe.xk)(t);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(a.A,{spacing:3,flexGrow:1,sx:{py:3,px:2.5,bgcolor:"background.neutral"},children:n.map((e=>(0,D.jsxs)(a.A,{direction:"row",spacing:2,children:[(0,D.jsx)(_.A,{src:e.avatarUrl}),(0,D.jsxs)(a.A,{spacing:"image"===e.messageType?1:.5,flexGrow:1,children:[(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsxs)(l.A,{variant:"subtitle2",children:[" ",e.name]}),(0,D.jsx)(l.A,{variant:"caption",sx:{color:"text.disabled"},children:(0,de.kH)(e.createdAt)})]}),"image"===e.messageType?(0,D.jsx)(ce.A,{alt:e.message,src:e.message,onClick:()=>o.onOpen(e.message),sx:{borderRadius:1.5,cursor:"pointer",transition:e=>e.transitions.create(["opacity"]),"&:hover":{opacity:.8}}}):(0,D.jsx)(l.A,{variant:"body2",children:e.message})]})]},e.id)))}),(0,D.jsx)(xe.Ay,{index:o.selected,slides:t,open:o.open,close:o.onClose})]})}var he=t(21430);function pe(){var e;const{user:n}=(0,he.E)();return(0,D.jsxs)(a.A,{direction:"row",spacing:2,sx:{py:3,px:2.5},children:[(0,D.jsx)(_.A,{src:null===n||void 0===n?void 0:n.photoURL,alt:null===n||void 0===n?void 0:n.displayName,children:null===n||void 0===n||null===(e=n.displayName)||void 0===e?void 0:e.charAt(0).toUpperCase()}),(0,D.jsxs)(g.A,{variant:"outlined",sx:{p:1,flexGrow:1,bgcolor:"transparent"},children:[(0,D.jsx)(v.Ay,{fullWidth:!0,multiline:!0,rows:2,placeholder:"Type a message",sx:{px:1}}),(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,D.jsxs)(a.A,{direction:"row",flexGrow:1,children:[(0,D.jsx)(N.A,{children:(0,D.jsx)(y.A,{icon:"solar:gallery-add-bold"})}),(0,D.jsx)(N.A,{children:(0,D.jsx)(y.A,{icon:"eva:attach-2-fill"})})]}),(0,D.jsx)(b.A,{variant:"contained",children:"Comment"})]})]})]})}const me=(0,L.Ay)("span")((e=>{let{theme:n}=e;return{...n.typography.caption,width:100,flexShrink:0,color:n.palette.text.secondary,fontWeight:n.typography.fontWeightSemiBold}}));function ge(e){let{task:n,openDetails:t,onCloseDetails:o,onUpdateTask:r,onDeleteTask:i}=e;const[l,d]=(0,s.useState)(n.priority),[c,x]=(0,s.useState)(n.name),u=(0,A.C)(),h=(0,A.C)(),[m,g]=(0,s.useState)(n.description),f=(0,H.ZN)(n.due[0],n.due[1]),k=(0,s.useCallback)((e=>{x(e.target.value)}),[]),v=(0,s.useCallback)((e=>{try{"Enter"===e.key&&c&&r({...n,name:c})}catch(t){console.error(t)}}),[r,n,c]),C=(0,s.useCallback)((e=>{g(e.target.value)}),[]),w=(0,s.useCallback)((e=>{d(e)}),[]),T=(0,D.jsx)(q,{liked:u.value,taskName:n.name,onLike:u.onToggle,onDelete:i,taskStatus:n.status,onCloseDetails:o}),S=(0,D.jsx)(G,{placeholder:"Task name",value:c,onChange:k,onKeyUp:v}),I=(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,D.jsx)(me,{children:"Reporter"}),(0,D.jsx)(_.A,{alt:n.reporter.name,src:n.reporter.avatarUrl})]}),z=(0,D.jsxs)(a.A,{direction:"row",children:[(0,D.jsx)(me,{sx:{height:40,lineHeight:"40px"},children:"Assignee"}),(0,D.jsxs)(a.A,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1,children:[n.assignee.map((e=>(0,D.jsx)(_.A,{alt:e.name,src:e.avatarUrl},e.id))),(0,D.jsx)(P.A,{title:"Add assignee",children:(0,D.jsx)(N.A,{onClick:h.onTrue,sx:{bgcolor:e=>(0,j.X4)(e.palette.grey[500],.08),border:e=>"dashed 1px ".concat(e.palette.divider)},children:(0,D.jsx)(y.A,{icon:"mingcute:add-line"})})}),(0,D.jsx)(se,{assignee:n.assignee,open:h.value,onClose:h.onFalse})]})]}),R=(0,D.jsxs)(a.A,{direction:"row",children:[(0,D.jsx)(me,{sx:{height:24,lineHeight:"24px"},children:"Labels"}),!!n.labels.length&&(0,D.jsx)(a.A,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1,children:n.labels.map((e=>(0,D.jsx)(E.A,{color:"info",label:e,size:"small",variant:"soft"},e)))})]}),W=(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,D.jsx)(me,{children:" Due date "}),f.selected?(0,D.jsx)(b.A,{size:"small",onClick:f.onOpen,children:f.shortLabel}):(0,D.jsx)(P.A,{title:"Add due date",children:(0,D.jsx)(N.A,{onClick:f.onOpen,sx:{bgcolor:e=>(0,j.X4)(e.palette.grey[500],.08),border:e=>"dashed 1px ".concat(e.palette.divider)},children:(0,D.jsx)(y.A,{icon:"mingcute:add-line"})})}),(0,D.jsx)(H.Ay,{variant:"calendar",title:"Choose due date",startDate:f.startDate,endDate:f.endDate,onChangeStartDate:f.onChangeStartDate,onChangeEndDate:f.onChangeEndDate,open:f.open,onClose:f.onClose,selected:f.selected,error:f.error})]}),F=(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,D.jsx)(me,{children:"Priority"}),(0,D.jsx)(ae,{priority:l,onChangePriority:w})]}),L=(0,D.jsxs)(a.A,{direction:"row",children:[(0,D.jsx)(me,{children:" Description "}),(0,D.jsx)(O.A,{fullWidth:!0,multiline:!0,size:"small",value:m,onChange:C,InputProps:{sx:{typography:"body2"}}})]}),V=(0,D.jsxs)(a.A,{direction:"row",children:[(0,D.jsx)(me,{children:"Attachments"}),(0,D.jsx)(le,{attachments:n.attachments})]}),Z=(0,D.jsx)(ue,{comments:n.comments});return(0,D.jsxs)(M.Ay,{open:t,onClose:o,anchor:"right",slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:{xs:1,sm:480}}},children:[T,(0,D.jsx)(U.A,{}),(0,D.jsxs)(p.A,{sx:{height:1,"& .simplebar-content":{height:1,display:"flex",flexDirection:"column"}},children:[(0,D.jsxs)(a.A,{spacing:3,sx:{pt:3,pb:5,px:2.5},children:[S,I,z,R,W,F,L,V]}),!!n.comments.length&&Z]}),(0,D.jsx)(pe,{})]})}function be(e){let{task:n,index:t,onDeleteTask:o,onUpdateTask:s,sx:i,...d}=e;const c=(0,z.A)(),x=(0,A.C)(),u=(0,D.jsx)(y.A,{icon:("low"===n.priority?"solar:double-alt-arrow-down-bold-duotone":"medium"===n.priority&&"solar:double-alt-arrow-right-bold-duotone")||"solar:double-alt-arrow-up-bold-duotone",sx:{position:"absolute",top:4,right:4,..."low"===n.priority&&{color:"info.main"},..."medium"===n.priority&&{color:"warning.main"},..."hight"===n.priority&&{color:"error.main"}}}),h=(0,D.jsx)(I.A,{sx:{p:c.spacing(1,1,0,1)},children:(0,D.jsx)(I.A,{component:"img",alt:n.attachments[0],src:n.attachments[0],sx:{borderRadius:1.5,...x.value&&{opacity:.8}}})}),p=(0,D.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,D.jsxs)(a.A,{flexGrow:1,direction:"row",alignItems:"center",sx:{typography:"caption",color:"text.disabled"},children:[(0,D.jsx)(y.A,{width:16,icon:"solar:chat-round-dots-bold",sx:{mr:.25}}),(0,D.jsx)(I.A,{component:"span",sx:{mr:1},children:n.comments.length}),(0,D.jsx)(y.A,{width:16,icon:"eva:attach-2-fill",sx:{mr:.25}}),(0,D.jsx)(I.A,{component:"span",children:n.attachments.length})]}),(0,D.jsx)(R.A,{sx:{["& .".concat(W.A.avatar)]:{width:24,height:24}},children:n.assignee.map((e=>(0,D.jsx)(_.A,{alt:e.name,src:e.avatarUrl},e.id)))})]});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(r.sx,{draggableId:n.id,index:t,children:(e,t)=>(0,D.jsxs)(g.A,{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,onClick:x.onTrue,sx:{width:1,borderRadius:1.5,overflow:"hidden",position:"relative",bgcolor:"background.default",boxShadow:c.customShadows.z1,"&:hover":{boxShadow:c.customShadows.z20},...x.value&&{boxShadow:c.customShadows.z20},...t.isDragging&&{boxShadow:c.customShadows.z20,...(0,F.Vz)({opacity:.48,color:c.palette.background.default})},...i},...d,children:[!!n.attachments.length&&h,(0,D.jsxs)(a.A,{spacing:2,sx:{px:2,py:2.5,position:"relative"},children:[u,(0,D.jsx)(l.A,{variant:"subtitle2",children:n.name}),p]})]})}),(0,D.jsx)(ge,{task:n,openDetails:x.value,onCloseDetails:x.onFalse,onUpdateTask:s,onDeleteTask:o})]})}function je(e){let{columnName:n,onDeleteColumn:t,onClearColumn:o,onUpdateColumn:r}=e;const i=(0,s.useRef)(null),l=(0,K.f)(),d=(0,A.C)(),[c,x]=(0,s.useState)(n);(0,s.useEffect)((()=>{l.open&&i.current&&i.current.focus()}),[l.open]);const u=(0,s.useCallback)((e=>{x(e.target.value)}),[]),h=(0,s.useCallback)((e=>{"Enter"===e.key&&(i.current&&i.current.blur(),r(c))}),[c,r]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(a.A,{spacing:1,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pt:3},children:[(0,D.jsx)(G,{inputRef:i,placeholder:"Section name",value:c,onChange:u,onKeyUp:h}),(0,D.jsx)(N.A,{color:l.open?"inherit":"default",onClick:l.onOpen,children:(0,D.jsx)(y.A,{icon:"eva:more-horizontal-fill"})})]}),(0,D.jsxs)(K.A,{open:l.open,onClose:l.onClose,sx:{ml:1.5,width:160},children:[(0,D.jsxs)(V.A,{onClick:l.onClose,children:[(0,D.jsx)(y.A,{icon:"solar:pen-bold"}),"Rename"]}),(0,D.jsxs)(V.A,{onClick:()=>{o(),l.onClose()},children:[(0,D.jsx)(y.A,{icon:"solar:eraser-bold"}),"Clear"]}),(0,D.jsxs)(V.A,{onClick:()=>{d.onTrue(),l.onClose()},sx:{color:"error.main"},children:[(0,D.jsx)(y.A,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,D.jsx)(X.T,{open:d.value,onClose:d.onFalse,title:"Delete",content:(0,D.jsxs)(D.Fragment,{children:["Are you sure want to delete column?",(0,D.jsxs)(I.A,{sx:{typography:"caption",color:"error.main",mt:2},children:[(0,D.jsx)("strong",{children:" NOTE: "})," All tasks related to this category will also be deleted."]})]}),action:(0,D.jsx)(b.A,{variant:"contained",color:"error",onClick:()=>{t(),d.onFalse()},children:"Delete"})})]})}function Ae(e){let{column:n,tasks:t,index:o}=e;const{enqueueSnackbar:i}=(0,f.dh)(),l=(0,A.C)(),c=(0,s.useCallback)((async e=>{try{n.name!==e&&(!async function(e,n){(0,d.Tk)(x,(t=>{const o=t.board,s=o.columns[e],r={...o.columns,[s.id]:{...s,name:n}};return{...t,board:{...o,columns:r}}}),!1)}(n.id,e),i("Update success!",{anchorOrigin:{vertical:"top",horizontal:"center"}}))}catch(t){console.error(t)}}),[n.id,n.name,i]),u=(0,s.useCallback)((async()=>{try{!async function(e){(0,d.Tk)(x,(n=>{const t=n.board,{tasks:o}=t,s=t.columns[e];s.taskIds.forEach((e=>{delete o[e]}));const r={...t.columns,[s.id]:{...s,taskIds:[]}};return{...n,board:{...t,columns:r,tasks:o}}}),!1)}(n.id)}catch(e){console.error(e)}}),[n.id]),h=(0,s.useCallback)((async()=>{try{!async function(e){(0,d.Tk)(x,(n=>{const t=n.board,{columns:o,tasks:s}=t,r=o[e];delete o[e],r.taskIds.forEach((e=>{delete s[e]}));const a=t.ordered.filter((n=>n!==e));return{...n,board:{...t,columns:o,tasks:s,ordered:a}}}),!1)}(n.id),i("Delete success!",{anchorOrigin:{vertical:"top",horizontal:"center"}})}catch(e){console.error(e)}}),[n.id,i]),p=(0,s.useCallback)((async e=>{try{!async function(e,n){(0,d.Tk)(x,(t=>{const o=t.board,s=o.columns[e],r={...o.columns,[e]:{...s,taskIds:[...s.taskIds,n.id]}},a={...o.tasks,[n.id]:n};return{...t,board:{...o,columns:r,tasks:a}}}),!1)}(n.id,e),l.onFalse()}catch(t){console.error(t)}}),[n.id,l]),m=(0,s.useCallback)((async e=>{try{!async function(e){(0,d.Tk)(x,(n=>{const t=n.board,o={...t.tasks,[e.id]:e};return{...n,board:{...t,tasks:o}}}),!1)}(e)}catch(n){console.error(n)}}),[]),k=(0,s.useCallback)((async e=>{try{!async function(e,n){(0,d.Tk)(x,(t=>{const o=t.board,{tasks:s}=o,r=o.columns[e],a={...o.columns,[r.id]:{...r,taskIds:r.taskIds.filter((e=>e!==n))}};return delete s[n],{...t,board:{...o,columns:a,tasks:s}}}),!1)}(n.id,e),i("Delete success!",{anchorOrigin:{vertical:"top",horizontal:"center"}})}catch(t){console.error(t)}}),[n.id,i]),v=(0,D.jsxs)(a.A,{spacing:2,sx:{pb:3},children:[l.value&&(0,D.jsx)(S,{status:n.name,onAddTask:p,onCloseAddTask:l.onFalse}),(0,D.jsx)(b.A,{fullWidth:!0,size:"large",color:"inherit",startIcon:(0,D.jsx)(y.A,{icon:l.value?"solar:close-circle-broken":"mingcute:add-line",width:18,sx:{mr:-.5}}),onClick:l.onToggle,sx:{fontSize:14},children:l.value?"Close":"Add Task"})]});return(0,D.jsx)(r.sx,{draggableId:n.id,index:o,children:(e,o)=>(0,D.jsx)(g.A,{ref:e.innerRef,...e.draggableProps,sx:{px:2,borderRadius:2,bgcolor:"background.neutral",...o.isDragging&&{bgcolor:e=>(0,j.X4)(e.palette.grey[500],.24)}},children:(0,D.jsxs)(a.A,{...e.dragHandleProps,children:[(0,D.jsx)(je,{columnName:n.name,onUpdateColumn:c,onClearColumn:u,onDeleteColumn:h}),(0,D.jsx)(r.gL,{droppableId:n.id,type:"TASK",children:e=>(0,D.jsxs)(a.A,{ref:e.innerRef,...e.droppableProps,spacing:2,sx:{py:3,width:280},children:[n.taskIds.map(((e,n)=>(0,D.jsx)(be,{index:n,task:t[e],onUpdateTask:m,onDeleteTask:()=>k(e)},e))),e.placeholder]})}),v]})})})}function ye(){const[e,n]=(0,s.useState)(""),t=(0,A.C)(),o=(0,s.useCallback)((e=>{n(e.target.value)}),[]),r=(0,s.useCallback)((async()=>{try{e&&(!async function(e){(0,d.Tk)(x,(n=>{const t=n.board,o={...t.columns,[e.id]:e},s=[...t.ordered,e.id];return{...n,board:{...t,columns:o,ordered:s}}}),!1)}({id:(0,w.A)(),name:e,taskIds:[]}),n("")),t.onFalse()}catch(o){console.error(o)}}),[e,t]),a=(0,s.useCallback)((e=>{"Enter"===e.key&&r()}),[r]);return(0,D.jsx)(g.A,{sx:{minWidth:280,width:280},children:t.value?(0,D.jsx)(k.x,{onClickAway:r,children:(0,D.jsx)(O.A,{autoFocus:!0,fullWidth:!0,placeholder:"New section",value:e,onChange:o,onKeyUp:a,sx:{["& .".concat(C.A.input)]:{typography:"h6"}}})}):(0,D.jsx)(b.A,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:(0,D.jsx)(y.A,{icon:"mingcute:add-line",sx:{mr:-.5}}),onClick:t.onTrue,children:"Add Section"})})}var fe=t(78185);function ke(e){let{index:n,sx:t,...o}=e;return(0,D.jsx)(a.A,{component:g.A,variant:"outlined",sx:{p:2,borderRadius:2,...t},...o,children:(0,D.jsxs)(a.A,{spacing:2,sx:{width:280},children:[(0,D.jsx)(fe.A,{sx:{paddingTop:"75%",borderRadius:1.5}}),[0].includes(Number(n))&&(0,D.jsx)(fe.A,{sx:{paddingTop:"50%",borderRadius:1.5}}),[0,1].includes(Number(n))&&(0,D.jsx)(fe.A,{sx:{paddingTop:"25%",borderRadius:1.5}}),[0,1,2].includes(Number(n))&&(0,D.jsx)(fe.A,{sx:{paddingTop:"25%",borderRadius:1.5}})]})})}function ve(){const{board:e,boardLoading:n,boardEmpty:t}=function(){const{data:e,isLoading:n,error:t,isValidating:o}=(0,d.Ay)(x,c.GO,u);return(0,s.useMemo)((()=>({board:null===e||void 0===e?void 0:e.board,boardLoading:n,boardError:t,boardValidating:o,boardEmpty:!n&&!(null!==e&&void 0!==e&&e.board.ordered.length)})),[null===e||void 0===e?void 0:e.board,t,n,o])}(),o=(0,s.useCallback)((async n=>{let{destination:t,source:o,draggableId:s,type:r}=n;try{if(!t)return;if(t.droppableId===o.droppableId&&t.index===o.index)return;if("COLUMN"===r){const n=[...e.ordered];return n.splice(o.index,1),n.splice(t.index,0,s),void async function(e){(0,d.Tk)(x,(n=>{const t=n.board,o=e;return{...n,board:{...t,ordered:o}}}),!1)}(n)}const n=null===e||void 0===e?void 0:e.columns[o.droppableId],a=null===e||void 0===e?void 0:e.columns[t.droppableId];if(n.id===a.id){const r=[...n.taskIds];return r.splice(o.index,1),r.splice(t.index,0,s),h({...null===e||void 0===e?void 0:e.columns,[n.id]:{...n,taskIds:r}}),void console.info("Moving to same list!")}const i=[...n.taskIds],l=[...a.taskIds];i.splice(o.index,1),l.splice(t.index,0,s),h({...null===e||void 0===e?void 0:e.columns,[n.id]:{...n,taskIds:i},[a.id]:{...a,taskIds:l}}),console.info("Moving to different list!")}catch(a){console.error(a)}}),[null===e||void 0===e?void 0:e.columns,null===e||void 0===e?void 0:e.ordered]),g=(0,D.jsx)(a.A,{direction:"row",alignItems:"flex-start",spacing:3,children:[...Array(4)].map(((e,n)=>(0,D.jsx)(ke,{index:n},n)))});return(0,D.jsxs)(i.A,{maxWidth:!1,sx:{height:1},children:[(0,D.jsx)(l.A,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Kanban"}),n&&g,t&&(0,D.jsx)(m.A,{filled:!0,title:"No Data",sx:{py:10,maxHeight:{md:480}}}),!(null===e||void 0===e||!e.ordered.length)&&(0,D.jsx)(r.JY,{onDragEnd:o,children:(0,D.jsx)(r.gL,{droppableId:"board",type:"COLUMN",direction:"horizontal",children:n=>(0,D.jsx)(p.A,{sx:{height:1,minHeight:{xs:"80vh",md:"unset"}},children:(0,D.jsxs)(a.A,{ref:n.innerRef,...n.droppableProps,spacing:3,direction:"row",alignItems:"flex-start",sx:{p:.25,height:1},children:[null===e||void 0===e?void 0:e.ordered.map(((n,t)=>(0,D.jsx)(Ae,{index:t,column:null===e||void 0===e?void 0:e.columns[n],tasks:null===e||void 0===e?void 0:e.tasks},n))),n.placeholder,(0,D.jsx)(ye,{})]})})})})]})}function Ce(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.mg,{children:(0,D.jsx)("title",{children:" Game: Kanban"})}),(0,D.jsx)(ve,{})]})}},52491:(e,n,t)=>{function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))}t.d(n,{A:()=>o})}}]);
//# sourceMappingURL=3473.751489ff.chunk.js.map