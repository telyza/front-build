"use strict";(self.webpackChunktelyza=self.webpackChunktelyza||[]).push([[5367],{7695:(e,t,n)=>{n.d(t,{s:()=>c,q:()=>x});var o=n(65043),a=n(88911),r=n(90310),l=n(75429),i=n(77628),s=n(70579);const c=(0,o.forwardRef)(((e,t)=>{let{colors:n,selected:c,onSelectColor:d,limit:x="auto",sx:u,...p}=e;const h="string"===typeof c,f=(0,o.useCallback)((e=>{if(h)e!==c&&d(e);else{const t=c.includes(e)?c.filter((t=>t!==e)):[...c,e];d(t)}}),[d,c,h]);return(0,s.jsx)(a.A,{ref:t,direction:"row",display:"inline-flex",sx:{flexWrap:"wrap",..."auto"!==x&&{width:36*x,justifyContent:"flex-end"},...u},...p,children:n.map((e=>{const t=h?c===e:c.includes(e);return(0,s.jsx)(l.A,{sx:{width:36,height:36,borderRadius:"50%"},onClick:()=>{f(e)},children:(0,s.jsx)(a.A,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:e,borderRadius:"50%",border:e=>"solid 1px ".concat((0,r.X4)(e.palette.grey[500],.16)),...t&&{transform:"scale(1.3)",boxShadow:"4px 4px 8px 0 ".concat((0,r.X4)(e,.48)),outline:"solid 2px ".concat((0,r.X4)(e,.08)),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}},children:(0,s.jsx)(i.A,{width:t?12:0,icon:"eva:checkmark-fill",sx:{color:t=>t.palette.getContrastText(e),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}})})},e)}))})}));var d=n(96446);function x(e){let{colors:t,limit:n=3,sx:o}=e;const l=t.slice(0,n),i=t.length-n;return(0,s.jsxs)(a.A,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:o,children:[l.map(((e,t)=>(0,s.jsx)(d.A,{sx:{ml:-.75,width:16,height:16,bgcolor:e,borderRadius:"50%",border:e=>"solid 2px ".concat(e.palette.background.paper),boxShadow:e=>"inset -1px 1px 2px ".concat((0,r.X4)(e.palette.common.black,.24))}},e+t))),t.length>n&&(0,s.jsx)(d.A,{component:"span",sx:{typography:"subtitle2"},children:"+".concat(i)})]})}},48330:(e,t,n)=>{n.d(t,{Ay:()=>m,fT:()=>i,ZN:()=>C});var o=n(41210),a=n(407),r=n(2431),l=n(52157);function i(e,t){const n=(new Date).getFullYear(),i=e?(0,o.A)(e):null,s=t?(0,o.A)(t):null,c=n===i&&n===s,d=!(!e||!t)&&(0,a.A)(new Date(e),new Date(t)),x=!(!e||!t)&&(0,r.A)(new Date(e),new Date(t));return c?x?d?(0,l.ts)(t,"dd MMM yy"):"".concat((0,l.ts)(e,"dd")," - ").concat((0,l.ts)(t,"dd MMM yy")):"".concat((0,l.ts)(e,"dd MMM")," - ").concat((0,l.ts)(t,"dd MMM yy")):"".concat((0,l.ts)(e,"dd MMM yy")," - ").concat((0,l.ts)(t,"dd MMM yy"))}var s=n(8555),c=n(88911),d=n(85601),x=n(83462),u=n(4219),p=n(29347),h=n(35316),f=n(66124),v=n(52083),g=n(15461),y=n(17861),b=n(70579);function m(e){let{title:t="Select date range",variant:n="input",startDate:o,endDate:a,onChangeStartDate:r,onChangeEndDate:l,open:i,onClose:m,error:j}=e;const C=(0,y.Q)("up","md"),A="calendar"===n;return(0,b.jsxs)(x.A,{fullWidth:!0,maxWidth:!A&&"xs",open:i,onClose:m,PaperProps:{sx:{...A&&{maxWidth:720}}},children:[(0,b.jsx)(u.A,{sx:{pb:2},children:t}),(0,b.jsxs)(h.A,{sx:{...A&&C&&{overflow:"unset"}},children:[(0,b.jsx)(c.A,{justifyContent:"center",spacing:A?3:2,direction:A&&C?"row":"column",sx:{pt:1},children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,b.jsx)(g.x,{value:o,onChange:r})}),(0,b.jsx)(s.A,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,b.jsx)(g.x,{value:a,onChange:l})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.l,{label:"Start date",value:o,onChange:r}),(0,b.jsx)(v.l,{label:"End date",value:a,onChange:l})]})}),j&&(0,b.jsx)(f.A,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,b.jsxs)(p.A,{children:[(0,b.jsx)(d.A,{variant:"outlined",color:"inherit",onClick:m,children:"Cancel"}),(0,b.jsx)(d.A,{disabled:j,variant:"contained",onClick:m,children:"Apply"})]})]})}var j=n(65043);function C(e,t){const[n,o]=(0,j.useState)(!1),[a,r]=(0,j.useState)(t),[s,c]=(0,j.useState)(e),d=!(!e||!t)&&new Date(e).getTime()>new Date(t).getTime(),x=(0,j.useCallback)((()=>{o(!0)}),[]),u=(0,j.useCallback)((()=>{o(!1)}),[]);return{startDate:s,endDate:a,onChangeStartDate:(0,j.useCallback)((e=>{c(e)}),[]),onChangeEndDate:(0,j.useCallback)((e=>{d&&r(null),r(e)}),[d]),open:n,onOpen:x,onClose:u,onReset:(0,j.useCallback)((()=>{c(null),r(null)}),[]),selected:!!s&&!!a,error:d,label:"".concat((0,l.ts)(s)," - ").concat((0,l.ts)(a)),shortLabel:i(s,a),setStartDate:c,setEndDate:r}}},95367:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var o=n(49367),a=n(27285),r=n(83806),l=n(34625),i=n(3805),s=n(23541),c=n(65043),d=n(7807),x=n(12110),u=n(88911),p=n(85601),h=n(83462),f=n(26240),v=n(19252),g=n(94496),y=n(4219),b=n(18303),m=n(17861),j=n(52157),C=n(72305),A=n(95320),w=n(63132);const D=w.vZ.calendar,k={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};async function S(e){(0,A.Tk)(D,(t=>{const n=t.events.map((t=>t.id===e.id?{...t,...e}:t));return{...t,events:n}}),!1)}var M=n(77628),E=n(2771),R=n(34535),F=n(90310);const T=(0,R.Ay)("div")((e=>{let{theme:t}=e;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-border-color":(0,F.X4)(t.palette.grey[500],.16),"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":(0,F.X4)(t.palette.grey[500],.08),"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":t.palette.action.hover},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":{...t.typography.subtitle2,padding:"13px 0"}},"& .fc .fc-list-empty":{...t.typography.h6,backgroundColor:"transparent",color:t.palette.text.secondary},"& .fc .fc-event":{borderColor:"transparent !important",backgroundColor:"transparent !important"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:6,backgroundColor:t.palette.common.white,"&:before":{top:0,left:0,width:"100%",content:"''",opacity:.24,height:"100%",borderRadius:6,position:"absolute",backgroundColor:"currentColor",transition:t.transitions.create(["opacity"]),"&:hover":{"&:before":{opacity:.32}}}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.48)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.dropdown,borderRadius:1.5*t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":{...t.typography.subtitle2,padding:t.spacing(1),backgroundColor:(0,F.X4)(t.palette.grey[500],.08)},"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create(["opacity"]),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":{...t.typography.body2,padding:t.spacing(1,1,0)},"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":{...t.typography.caption,color:t.palette.text.secondary,"&:hover":{backgroundColor:"unset",textDecoration:"underline",color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium}},"& .fc .fc-timegrid-axis-cushion":{...t.typography.body2,color:t.palette.text.secondary},"& .fc .fc-timegrid-slot-label-cushion":{...t.typography.body2},"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":{...t.typography.subtitle2},"& .fc .fc-list-event":{...t.typography.body2,"& .fc-list-event-time":{color:t.palette.text.secondary}},"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}}));var I=n(80899),P=n(24858),W=n(18403),z=n(96446),O=n(77739),V=n(71716),G=n(38246),X=n(29347),N=n(70020),L=n(52491),q=n(30291),B=n(7695),Q=n(38699),U=n(70579);function Y(e){let{currentEvent:t,colorOptions:n,onClose:o}=e;const{enqueueSnackbar:a}=(0,q.dh)(),r=I.Ik().shape({title:I.Yj().max(255).required("Title is required"),description:I.Yj().max(5e3,"Description must be at most 5000 characters"),color:I.Yj(),allDay:I.zM(),start:I.gl(),end:I.gl()}),l=(0,P.mN)({resolver:(0,W.t)(r),defaultValues:t}),{reset:i,watch:s,control:d,handleSubmit:x,formState:{isSubmitting:h}}=l,f=s(),v=(0,j.dS)(f.start,f.end),g=x((async e=>{const n={id:null!==t&&void 0!==t&&t.id?null===t||void 0===t?void 0:t.id:(0,L.A)(),color:null===e||void 0===e?void 0:e.color,title:null===e||void 0===e?void 0:e.title,allDay:null===e||void 0===e?void 0:e.allDay,description:null===e||void 0===e?void 0:e.description,end:null===e||void 0===e?void 0:e.end,start:null===e||void 0===e?void 0:e.start};try{v||(null!==t&&void 0!==t&&t.id?(await S(n),a("Update success!")):(await async function(e){(0,A.Tk)(D,(t=>{const n=[...t.events,e];return{...t,events:n}}),!1)}(n),a("Create success!")),o(),i())}catch(r){console.error(r)}})),y=(0,c.useCallback)((async()=>{try{await async function(e){(0,A.Tk)(D,(t=>{const n=t.events.filter((t=>t.id!==e));return{...t,events:n}}),!1)}("".concat(null===t||void 0===t?void 0:t.id)),a("Delete success!"),o()}catch(e){console.error(e)}}),[null===t||void 0===t?void 0:t.id,a,o]);return(0,U.jsxs)(Q.Ay,{methods:l,onSubmit:g,children:[(0,U.jsxs)(u.A,{spacing:3,sx:{px:3},children:[(0,U.jsx)(Q.o3,{name:"title",label:"Title"}),(0,U.jsx)(Q.o3,{name:"description",label:"Description",multiline:!0,rows:3}),(0,U.jsx)(Q.b8,{name:"allDay",label:"All day"}),(0,U.jsx)(P.xI,{name:"start",control:d,render:e=>{let{field:t}=e;return(0,U.jsx)(N.E,{...t,value:new Date(t.value),onChange:e=>{e&&t.onChange((0,j.P6)(e))},label:"Start date",format:"dd/MM/yyyy hh:mm a",slotProps:{textField:{fullWidth:!0}}})}}),(0,U.jsx)(P.xI,{name:"end",control:d,render:e=>{let{field:t}=e;return(0,U.jsx)(N.E,{...t,value:new Date(t.value),onChange:e=>{e&&t.onChange((0,j.P6)(e))},label:"End date",format:"dd/MM/yyyy hh:mm a",slotProps:{textField:{fullWidth:!0,error:v,helperText:v&&"End date must be later than start date"}}})}}),(0,U.jsx)(P.xI,{name:"color",control:d,render:e=>{let{field:t}=e;return(0,U.jsx)(B.s,{selected:t.value,onSelectColor:e=>t.onChange(e),colors:n})}})]}),(0,U.jsxs)(X.A,{children:[!(null===t||void 0===t||!t.id)&&(0,U.jsx)(O.A,{title:"Delete Event",children:(0,U.jsx)(V.A,{onClick:y,children:(0,U.jsx)(M.A,{icon:"solar:trash-bin-trash-bold"})})}),(0,U.jsx)(z.A,{sx:{flexGrow:1}}),(0,U.jsx)(p.A,{variant:"outlined",color:"inherit",onClick:o,children:"Cancel"}),(0,U.jsx)(G.A,{type:"submit",variant:"contained",loading:h,disabled:v,children:"Save Changes"})]})]})}var K=n(34677),H=n.n(K);var Z=n(94814),J=n(36930),$=n(69995);const _=[{value:"dayGridMonth",label:"Month",icon:"mingcute:calendar-month-line"},{value:"timeGridWeek",label:"Week",icon:"mingcute:calendar-week-line"},{value:"timeGridDay",label:"Day",icon:"mingcute:calendar-day-line"},{value:"listWeek",label:"Agenda",icon:"fluent:calendar-agenda-24-regular"}];function ee(e){let{date:t,view:n,loading:o,onToday:a,onNextDate:r,onPrevDate:l,onChangeView:i,onOpenFilters:s}=e;const c=(0,m.Q)("up","sm"),d=(0,$.f)(),x=_.filter((e=>e.value===n))[0];return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5,pr:2,position:"relative"},children:[c&&(0,U.jsx)(p.A,{size:"small",color:"inherit",onClick:d.onOpen,startIcon:(0,U.jsx)(M.A,{icon:x.icon}),endIcon:(0,U.jsx)(M.A,{icon:"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:x.label}),(0,U.jsxs)(u.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,U.jsx)(V.A,{onClick:l,children:(0,U.jsx)(M.A,{icon:"eva:arrow-ios-back-fill"})}),(0,U.jsx)(g.A,{variant:"h6",children:(0,j.ts)(t)}),(0,U.jsx)(V.A,{onClick:r,children:(0,U.jsx)(M.A,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,U.jsxs)(u.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,U.jsx)(p.A,{size:"small",color:"error",variant:"contained",onClick:a,children:"Today"}),(0,U.jsx)(V.A,{onClick:s,children:(0,U.jsx)(M.A,{icon:"ic:round-filter-list"})})]}),o&&(0,U.jsx)(J.A,{color:"inherit",sx:{height:2,width:1,position:"absolute",bottom:0,left:0}})]}),(0,U.jsx)($.A,{open:d.open,onClose:d.onClose,arrow:"top-left",sx:{width:160},children:_.map((e=>(0,U.jsxs)(Z.A,{selected:e.value===n,onClick:()=>{d.onClose(),i(e.value)},children:[(0,U.jsx)(M.A,{icon:e.icon}),e.label]},e.value)))})]})}var te=n(9944),ne=n.n(te),oe=n(19668),ae=n(58846),re=n(39336),le=n(26353),ie=n(38968),se=n(52083),ce=n(91691);function de(e){let{open:t,onClose:n,filters:o,onFilters:a,canReset:r,onResetFilters:l,dateError:i,events:s,colorOptions:d,onClickEvent:x}=e;const p=(0,c.useCallback)((e=>{a("colors",e)}),[a]),h=(0,c.useCallback)((e=>{a("startDate",e)}),[a]),f=(0,c.useCallback)((e=>{a("endDate",e)}),[a]),v=(0,U.jsxs)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,U.jsx)(g.A,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,U.jsx)(O.A,{title:"Reset",children:(0,U.jsx)(V.A,{onClick:l,children:(0,U.jsx)(oe.A,{color:"error",variant:"dot",invisible:!r,children:(0,U.jsx)(M.A,{icon:"solar:restart-bold"})})})}),(0,U.jsx)(V.A,{onClick:n,children:(0,U.jsx)(M.A,{icon:"mingcute:close-line"})})]}),y=(0,U.jsxs)(u.A,{spacing:1,sx:{my:3,px:2.5},children:[(0,U.jsx)(g.A,{variant:"subtitle2",children:"Colors"}),(0,U.jsx)(B.s,{colors:d,selected:o.colors,onSelectColor:p})]}),b=(0,U.jsxs)(u.A,{spacing:1.5,sx:{mb:3,px:2.5},children:[(0,U.jsx)(g.A,{variant:"subtitle2",children:"Range"}),(0,U.jsxs)(u.A,{spacing:2,children:[(0,U.jsx)(se.l,{label:"Start date",value:o.startDate,onChange:h}),(0,U.jsx)(se.l,{label:"End date",value:o.endDate,onChange:f,slotProps:{textField:{error:i,helperText:i&&"End date must be later than start date"}}})]})]}),m=(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(g.A,{variant:"subtitle2",sx:{px:2.5,mb:1},children:["Events (",s.length,")"]}),(0,U.jsx)(ce.A,{sx:{height:1},children:ne()(s,["end"],["desc"]).map((e=>(0,U.jsxs)(ie.A,{onClick:()=>x("".concat(e.id)),sx:{py:1.5,borderBottom:e=>"dashed 1px ".concat(e.palette.divider)},children:[(0,U.jsx)(z.A,{sx:{top:16,left:0,width:0,height:0,position:"absolute",borderRight:"10px solid transparent",borderTop:"10px solid ".concat(e.color)}}),(0,U.jsx)(le.A,{disableTypography:!0,primary:(0,U.jsx)(g.A,{variant:"subtitle2",sx:{fontSize:13,mt:.5},children:e.title}),secondary:(0,U.jsx)(g.A,{variant:"caption",component:"div",sx:{fontSize:11,color:"text.disabled"},children:e.allDay?(0,j.uK)(e.start,"dd MMM yy"):(0,U.jsx)(U.Fragment,{children:"".concat((0,j.uK)(e.start,"dd MMM yy p")," - ").concat((0,j.uK)(e.end,"dd MMM yy p"))})}),sx:{display:"flex",flexDirection:"column-reverse"}})]},e.id)))})]});return(0,U.jsxs)(ae.Ay,{anchor:"right",open:t,onClose:n,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[v,(0,U.jsx)(re.A,{sx:{borderStyle:"dashed"}}),y,b,m]})}var xe=n(26487),ue=n(8555),pe=n(48330);function he(e){let{filters:t,onFilters:n,canReset:o,onResetFilters:a,results:r,...l}=e;const i=(0,pe.fT)(t.startDate,t.endDate);return(0,U.jsxs)(u.A,{spacing:1.5,...l,children:[(0,U.jsxs)(z.A,{sx:{typography:"body2"},children:[(0,U.jsx)("strong",{children:r}),(0,U.jsx)(z.A,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,U.jsxs)(u.A,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.colors.length&&(0,U.jsx)(fe,{label:"Colors:",children:t.colors.map((e=>(0,U.jsx)(xe.A,{size:"small",label:(0,U.jsx)(z.A,{sx:{ml:-.5,width:18,height:18,bgcolor:e,borderRadius:"50%",border:e=>"solid 1px ".concat((0,F.X4)(e.palette.common.white,.24))}}),onDelete:()=>(e=>{const o=t.colors.filter((t=>t!==e));n("colors",o)})(e)},e)))}),t.startDate&&t.endDate&&(0,U.jsx)(fe,{label:"Date:",children:(0,U.jsx)(xe.A,{size:"small",label:i,onDelete:()=>{n("startDate",null),n("endDate",null)}})}),o&&(0,U.jsx)(p.A,{color:"error",onClick:a,startIcon:(0,U.jsx)(M.A,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function fe(e){let{label:t,children:n,sx:o,...a}=e;return(0,U.jsxs)(u.A,{component:ue.A,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...o},...a,children:[(0,U.jsx)(z.A,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,U.jsx)(u.A,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const ve={colors:[],startDate:null,endDate:null};function ge(){const e=(0,f.A)(),t=(0,E.Mp)(),n=(0,m.Q)("up","sm"),o=(0,b.C)(),[R,F]=(0,c.useState)(ve),{events:I,eventsLoading:P}=function(){const{data:e,isLoading:t,error:n,isValidating:o}=(0,A.Ay)(D,w.GO,k);return(0,c.useMemo)((()=>({events:(null===e||void 0===e?void 0:e.events.map((e=>({...e,textColor:e.color}))))||[],eventsLoading:t,eventsError:n,eventsValidating:o,eventsEmpty:!t&&!(null!==e&&void 0!==e&&e.events.length)})),[null===e||void 0===e?void 0:e.events,n,t,o])}(),W=(0,j.dS)(R.startDate,R.endDate),{calendarRef:z,view:O,date:V,onDatePrev:G,onDateNext:X,onDateToday:N,onDropEvent:L,onChangeView:q,onSelectRange:B,onClickEvent:Q,onResizeEvent:K,onInitialView:Z,openForm:J,onOpenForm:$,onCloseForm:_,selectEventId:te,selectedRange:ne,onClickEventInFilters:oe}=function(){const e=(0,c.useRef)(null),t=e.current,n=(0,m.Q)("up","sm"),[o,a]=(0,c.useState)(new Date),[r,l]=(0,c.useState)(!1),[i,s]=(0,c.useState)(""),[d,x]=(0,c.useState)(null),[u,p]=(0,c.useState)(n?"dayGridMonth":"listWeek"),h=(0,c.useCallback)((()=>{l(!0)}),[]),f=(0,c.useCallback)((()=>{l(!1),x(null),s("")}),[]),v=(0,c.useCallback)((()=>{if(t){const e=t.getApi(),o=n?"dayGridMonth":"listWeek";e.changeView(o),p(o)}}),[t,n]),g=(0,c.useCallback)((e=>{t&&(t.getApi().changeView(e),p(e))}),[t]),y=(0,c.useCallback)((()=>{if(t){const e=t.getApi();e.today(),a(e.getDate())}}),[t]),b=(0,c.useCallback)((()=>{if(t){const e=t.getApi();e.prev(),a(e.getDate())}}),[t]),C=(0,c.useCallback)((()=>{if(t){const e=t.getApi();e.next(),a(e.getDate())}}),[t]),A=(0,c.useCallback)((e=>{t&&t.getApi().unselect(),h(),x({start:(0,j.P6)(e.start),end:(0,j.P6)(e.end)})}),[t,h]),w=(0,c.useCallback)((e=>{const{event:t}=e;h(),s(t.id)}),[h]),D=(0,c.useCallback)(((e,t)=>{const{event:n}=e;t({id:n.id,allDay:n.allDay,start:(0,j.P6)(n.start),end:(0,j.P6)(n.end)})}),[]),k=(0,c.useCallback)(((e,t)=>{const{event:n}=e;t({id:n.id,allDay:n.allDay,start:(0,j.P6)(n.start),end:(0,j.P6)(n.end)})}),[]),S=(0,c.useCallback)((e=>{e&&(h(),s(e))}),[h]);return{calendarRef:e,view:u,date:o,onDatePrev:b,onDateNext:C,onDateToday:y,onDropEvent:k,onClickEvent:w,onChangeView:g,onSelectRange:A,onResizeEvent:D,onInitialView:v,openForm:r,onOpenForm:h,onCloseForm:f,selectEventId:i,selectedRange:d,onClickEventInFilters:S}}(),ae=function(e,t,n,o){const a=e.find((e=>e.id===t)),r=(0,c.useMemo)((()=>({id:"",title:"",description:"",color:C.U[1],allDay:!1,start:n?n.start:(new Date).getTime(),end:n?n.end:(new Date).getTime()})),[n]);if(o)return a||n?H()({},r,a):r}(I,te,ne,J);(0,c.useEffect)((()=>{Z()}),[Z]);const re=(0,c.useCallback)(((e,t)=>{F((n=>({...n,[e]:t})))}),[]),le=(0,c.useCallback)((()=>{F(ve)}),[]),ie=!!R.colors.length||!!R.startDate&&!!R.endDate,se=function(e){let{inputData:t,filters:n,dateError:o}=e;const{colors:a,startDate:r,endDate:l}=n,i=t.map(((e,t)=>[e,t]));t=i.map((e=>e[0])),a.length&&(t=t.filter((e=>a.includes(e.color))));o||r&&l&&(t=t.filter((e=>(0,j.Bt)(e.start,r,l))));return t}({inputData:I,filters:R,dateError:W}),ce=(0,U.jsx)(he,{filters:R,onFilters:re,canReset:ie,onResetFilters:le,results:se.length,sx:{mb:{xs:3,md:5}}});return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(v.A,{maxWidth:!t.themeStretch&&"xl",children:[(0,U.jsxs)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:{xs:3,md:5}},children:[(0,U.jsx)(g.A,{variant:"h4",children:"Calendar"}),(0,U.jsx)(p.A,{variant:"contained",startIcon:(0,U.jsx)(M.A,{icon:"mingcute:add-line"}),onClick:$,children:"New Event"})]}),ie&&ce,(0,U.jsx)(x.A,{children:(0,U.jsxs)(T,{children:[(0,U.jsx)(ee,{date:V,view:O,loading:P,onNextDate:X,onPrevDate:G,onToday:N,onChangeView:q,onOpenFilters:o.onTrue}),(0,U.jsx)(a.A,{weekends:!0,editable:!0,droppable:!0,selectable:!0,rerenderDelay:10,allDayMaintainDuration:!0,eventResizableFromStart:!0,ref:z,initialDate:V,initialView:O,dayMaxEventRows:3,eventDisplay:"block",events:se,headerToolbar:!1,select:B,eventClick:Q,height:n?720:"auto",eventDrop:e=>{L(e,S)},eventResize:e=>{K(e,S)},plugins:[r.A,l.A,s.A,i.A,d.Ay]})]})})]}),(0,U.jsxs)(h.A,{fullWidth:!0,maxWidth:"xs",open:J,onClose:_,transitionDuration:{enter:e.transitions.duration.shortest,exit:e.transitions.duration.shortest-80},children:[(0,U.jsx)(y.A,{sx:{minHeight:76},children:J&&(0,U.jsxs)(U.Fragment,{children:[" ",null!==ae&&void 0!==ae&&ae.id?"Edit Event":"Add Event"]})}),(0,U.jsx)(Y,{currentEvent:ae,colorOptions:C.U,onClose:_})]}),(0,U.jsx)(de,{open:o.value,onClose:o.onFalse,filters:R,onFilters:re,canReset:ie,onResetFilters:le,dateError:W,events:I,colorOptions:C.U,onClickEvent:oe})]})}function ye(){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.mg,{children:(0,U.jsx)("title",{children:" Game: Calendar"})}),(0,U.jsx)(ge,{})]})}},52491:(e,t,n)=>{function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.d(t,{A:()=>o})}}]);
//# sourceMappingURL=5367.d8021a5c.chunk.js.map