"use strict";(self.webpackChunktelyza=self.webpackChunktelyza||[]).push([[6238],{31128:(e,t,s)=>{s.d(t,{A:()=>h});var i=s(96446),n=s(88446),r=s(88911),o=s(94496),l=s(22698),a=s(55744),d=s(70579);function c(e){let{link:t,activeLast:s,disabled:r}=e;const o={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!s&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},l=(0,d.jsxs)(d.Fragment,{children:[t.icon&&(0,d.jsx)(i.A,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:t.icon}),t.name]});return t.href?(0,d.jsx)(n.A,{component:a.W,href:t.href,sx:o,children:l}):(0,d.jsxs)(i.A,{sx:o,children:[" ",l," "]})}function h(e){let{links:t,action:s,heading:a,moreLink:h,activeLast:p,sx:m,...u}=e;const g=t[t.length-1].name;return(0,d.jsxs)(i.A,{sx:{...m},children:[(0,d.jsxs)(r.A,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(i.A,{sx:{flexGrow:1},children:[a&&(0,d.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:a}),!!t.length&&(0,d.jsx)(l.A,{separator:(0,d.jsx)(x,{}),...u,children:t.map((e=>(0,d.jsx)(c,{link:e,activeLast:p,disabled:e.name===g},e.name||"")))})]}),s&&(0,d.jsxs)(i.A,{sx:{flexShrink:0},children:[" ",s," "]})]}),!!h&&(0,d.jsx)(i.A,{sx:{mt:2},children:h.map((e=>(0,d.jsx)(n.A,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}function x(){return(0,d.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},13878:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(96446),n=s(90310),r=s(94496),o=s(88911),l=s(70579);function a(e){let{title:t,imgUrl:s,action:a,filled:d,description:c,sx:h,...x}=e;return(0,l.jsxs)(o.A,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...d&&{borderRadius:2,bgcolor:e=>(0,n.X4)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,n.X4)(e.palette.grey[500],.08))},...h},...x,children:[(0,l.jsx)(i.A,{component:"img",alt:"empty content",src:s||"/static/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,l.jsx)(r.A,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),c&&(0,l.jsx)(r.A,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:c}),a&&a]})}},64346:(e,t,s)=>{s.d(t,{A:()=>m});s(96999);var i=s(17348),n=s(2607),r=s(40495),o=s(33686),l=s(88446),a=s(55744),d=s(8677),c=s(34535),h=s(90310);const x=(0,c.Ay)("div")((e=>{let{theme:t}=e;const s="light"===t.palette.mode;return{h1:{margin:0,...t.typography.h1},h2:{margin:0,...t.typography.h2},h3:{margin:0,...t.typography.h3},h4:{margin:0,...t.typography.h4},h5:{margin:0,...t.typography.h5},h6:{margin:0,...t.typography.h6},p:{margin:0,...t.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral,[t.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:s?t.palette.grey[900]:(0,h.X4)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[s?"darker":"lighter"],backgroundColor:t.palette.warning[s?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[s?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var p=s(70579);function m(e){let{sx:t,...s}=e;return(0,p.jsx)(x,{sx:t,children:(0,p.jsx)(r.$,{rehypePlugins:[i.A,o.A,[n.A,{singleTilde:!1}]],components:u,...s})})}const u={img:e=>{let{...t}=e;return(0,p.jsx)(d.A,{alt:t.alt,ratio:"16/9",sx:{borderRadius:2},...t})},a:e=>{let{...t}=e;return t.href.includes("http")?(0,p.jsx)(l.A,{target:"_blank",rel:"noopener",...t}):(0,p.jsx)(l.A,{component:a.W,href:t.href,...t,children:t.children})}}},18526:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(94496),n=s(8555),r=s(70579);function o(e){let{query:t,sx:s,...o}=e;return t?(0,r.jsxs)(n.A,{sx:{bgcolor:"unset",textAlign:"center",...s},...o,children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Not Found"}),(0,r.jsxs)(i.A,{variant:"body2",children:["No results found for \xa0",(0,r.jsxs)("strong",{children:['"',t,'"']}),".",(0,r.jsx)("br",{})," Try checking for typos or using complete words."]})]}):(0,r.jsx)(i.A,{variant:"body2",sx:s,children:"Please enter keywords"})}},74840:(e,t,s)=>{s.d(t,{A:()=>c});var i=s(65043),n=s(88446),r=s(94496),o=s(26240),l=s(17861);function a(e){const t=(0,o.A)(),s=(0,l.u)(),i=t.breakpoints.up("xl"===s?"lg":s),n=("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&t.typography[e][i]?t.typography[e][i]:t.typography[e],r=(a=n.fontSize,Math.round(16*parseFloat(a)));var a;const d=Number(t.typography[e].lineHeight)*r,{fontWeight:c,letterSpacing:h}=t.typography[e];return{fontSize:r,lineHeight:d,fontWeight:c,letterSpacing:h}}var d=s(70579);const c=(0,i.forwardRef)(((e,t)=>{let{asLink:s,variant:i="body1",line:o=2,persistent:l=!1,children:c,sx:h,...x}=e;const{lineHeight:p}=a(i),m={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:o,WebkitBoxOrient:"vertical",...l&&{height:p*o},...h};return s?(0,d.jsx)(n.A,{color:"inherit",ref:t,variant:i,sx:{...m},...x,children:c}):(0,d.jsx)(r.A,{ref:t,variant:i,sx:{...m},...x,children:c})}))},66320:(e,t,s)=>{s.d(t,{d:()=>n});var i=s(65043);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[s,n]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const s=setTimeout((()=>{n(e)}),t);return()=>{clearTimeout(s)}}),[e,t]),s}},56238:(e,t,s)=>{s.d(t,{sY:()=>ze,yj:()=>Me,c8:()=>Pe,qv:()=>ie});var i=s(9944),n=s.n(i),r=s(65043),o=s(40360),l=s(81776),a=s(88911),d=s(85601),c=s(19252),h=s(27399),x=s(55744),p=s(66320),m=s(28453),u=s(95320),g=s(63132);function j(e){const t=e?[g.vZ.post.details,{params:{title:e}}]:"",{data:s,isLoading:i,error:n,isValidating:o}=(0,u.Ay)(t,g.GO);return(0,r.useMemo)((()=>({post:null===s||void 0===s?void 0:s.post,postLoading:i,postError:n,postValidating:o})),[null===s||void 0===s?void 0:s.post,n,i,o])}var A=s(35122),b=s(77628),f=s(2771),v=s(31128),y=s(96446),w=s(94814),k=s(69995),C=s(70579);function S(e){let{sort:t,sortOptions:s,onSort:i}=e;const n=(0,k.f)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(d.A,{disableRipple:!0,color:"inherit",onClick:n.onOpen,endIcon:(0,C.jsx)(b.A,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",(0,C.jsx)(y.A,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:t})]}),(0,C.jsx)(k.A,{open:n.open,onClose:n.onClose,sx:{width:140},children:s.map((e=>(0,C.jsx)(w.A,{selected:t===e.value,onClick:()=>{n.onClose(),i(e.value)},children:e.label},e.value)))})]})}var W=s(49898),I=s.n(W),T=s(90124),U=s.n(T),L=s(88446),P=s(60587),z=s(67784),F=s(94496),R=s(51787),O=s(8710),q=s(40668),E=s(68713),B=s(18526);function D(e){let{query:t,results:s,onSearch:i,hrefItem:n,loading:o}=e;const l=(0,E.rd)(),a=e=>{l.push(n(e))},d=e=>{t&&"Enter"===e.key&&a(t)};return(0,C.jsx)(O.A,{sx:{width:{xs:1,sm:260}},loading:o,autoHighlight:!0,popupIcon:null,options:s,onInputChange:(e,t)=>i(t),getOptionLabel:e=>e.title,noOptionsText:(0,C.jsx)(B.A,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,t)=>e.id===t.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[" .".concat(q.A.option)]:{pl:.75}}}},renderInput:e=>(0,C.jsx)(z.A,{...e,placeholder:"Search...",onKeyUp:d,InputProps:{...e.InputProps,startAdornment:(0,C.jsx)(R.A,{position:"start",children:(0,C.jsx)(b.A,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:(0,C.jsxs)(C.Fragment,{children:[o?(0,C.jsx)(b.A,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,e.InputProps.endAdornment]})}}),renderOption:(e,t,s)=>{let{inputValue:i}=s;const n=U()(t.title,i),o=I()(t.title,n);return(0,r.createElement)("li",{...e,key:t.id},(0,C.jsx)(P.A,{alt:t.title,src:t.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},t.id),(0,C.jsx)(L.A,{underline:"none",onClick:()=>a(t.title),children:o.map(((e,t)=>(0,C.jsx)(F.A,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},t)))},i))}})}var V=s(81557),G=s(76196),M=s(8555),Y=s(78185),N=s(17861);function X(e){let{variant:t="vertical",sx:s,...i}=e;const n=(0,N.Q)("up","sm");return"horizontal"===t?(0,C.jsxs)(a.A,{component:M.A,direction:"row",variant:"outlined",sx:{borderRadius:2,...s},...i,children:[(0,C.jsxs)(a.A,{spacing:2,flexGrow:1,sx:{p:3},children:[(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(Y.A,{variant:"circular",sx:{width:40,height:40}}),(0,C.jsx)(Y.A,{sx:{width:24,height:12}})]}),(0,C.jsx)(Y.A,{sx:{width:1,height:10}}),(0,C.jsx)(Y.A,{sx:{width:"calc(100% - 40px)",height:10}}),(0,C.jsx)(Y.A,{sx:{width:"calc(100% - 80px)",height:10}})]}),n&&(0,C.jsx)(a.A,{sx:{p:1},children:(0,C.jsx)(Y.A,{sx:{width:170,height:240,flexShrink:0}})})]}):(0,C.jsxs)(a.A,{component:M.A,variant:"outlined",sx:{borderRadius:2,...s},...i,children:[(0,C.jsx)(a.A,{sx:{p:1},children:(0,C.jsx)(Y.A,{sx:{paddingTop:"100%"}})}),(0,C.jsxs)(a.A,{spacing:2,direction:"row",alignItems:"center",sx:{p:3,pt:2},children:[(0,C.jsx)(Y.A,{variant:"circular",sx:{width:40,height:40,flexShrink:0}}),(0,C.jsxs)(a.A,{flexGrow:1,spacing:1,children:[(0,C.jsx)(Y.A,{sx:{height:10}}),(0,C.jsx)(Y.A,{sx:{width:.5,height:10}})]})]})]})}function H(e){let{...t}=e;return(0,C.jsxs)(a.A,{...t,children:[(0,C.jsx)(Y.A,{variant:"rectangular",sx:{height:480}}),(0,C.jsxs)(a.A,{sx:{width:1,maxWidth:720,mx:"auto"},children:[(0,C.jsxs)(a.A,{spacing:1,sx:{my:8},children:[(0,C.jsx)(Y.A,{height:10}),(0,C.jsx)(Y.A,{height:10,sx:{width:.9}}),(0,C.jsx)(Y.A,{height:10,sx:{width:.8}})]}),(0,C.jsx)(Y.A,{sx:{height:720}})]})]})}var K=s(12110),Q=s(71716),_=s(52157),Z=s(70219),J=s(8677),$=s(74840);function ee(e){let{post:t}=e;const s=(0,k.f)(),i=(0,E.rd)(),n=(0,N.Q)("up","sm"),{title:r,author:o,publish:l,coverUrl:d,createdAt:c,totalViews:p,totalShares:m,totalComments:u,description:g}=t;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.A,{component:K.A,direction:"row",children:[(0,C.jsxs)(a.A,{sx:{p:e=>e.spacing(3,3,2,3)},children:[(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,C.jsx)(A.A,{variant:"soft",color:"published"===l?"info":"default",children:l}),(0,C.jsx)(y.A,{component:"span",sx:{typography:"caption",color:"text.disabled"},children:(0,_.ts)(c)})]}),(0,C.jsxs)(a.A,{spacing:1,flexGrow:1,children:[(0,C.jsx)(L.A,{color:"inherit",component:x.W,href:h.f.dashboard.post.details(r),children:(0,C.jsx)($.A,{variant:"subtitle2",line:2,children:r})}),(0,C.jsx)($.A,{variant:"body2",sx:{color:"text.secondary"},children:g})]}),(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(Q.A,{color:s.open?"inherit":"default",onClick:s.onOpen,children:(0,C.jsx)(b.A,{icon:"eva:more-horizontal-fill"})}),(0,C.jsxs)(a.A,{spacing:1.5,flexGrow:1,direction:"row",flexWrap:"wrap",justifyContent:"flex-end",sx:{typography:"caption",color:"text.disabled"},children:[(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(b.A,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),(0,Z.Rn)(u)]}),(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(b.A,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),(0,Z.Rn)(p)]}),(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(b.A,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),(0,Z.Rn)(m)]})]})]})]}),n&&(0,C.jsxs)(y.A,{sx:{width:180,height:240,position:"relative",flexShrink:0,p:1},children:[(0,C.jsx)(P.A,{alt:o.name,src:o.avatarUrl,sx:{position:"absolute",top:16,right:16,zIndex:9}}),(0,C.jsx)(J.A,{alt:r,src:d,sx:{height:1,borderRadius:1.5}})]})]}),(0,C.jsxs)(k.A,{open:s.open,onClose:s.onClose,arrow:"bottom-center",sx:{width:140},children:[(0,C.jsxs)(w.A,{onClick:()=>{s.onClose(),i.push(h.f.dashboard.post.details(r))},children:[(0,C.jsx)(b.A,{icon:"solar:eye-bold"}),"View"]}),(0,C.jsxs)(w.A,{onClick:()=>{s.onClose(),i.push(h.f.dashboard.post.edit(r))},children:[(0,C.jsx)(b.A,{icon:"solar:pen-bold"}),"Edit"]}),(0,C.jsxs)(w.A,{onClick:()=>{s.onClose()},sx:{color:"error.main"},children:[(0,C.jsx)(b.A,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function te(e){let{posts:t,loading:s}=e;const i=(0,C.jsx)(C.Fragment,{children:[...Array(16)].map(((e,t)=>(0,C.jsx)(X,{variant:"horizontal"},t)))}),n=(0,C.jsx)(C.Fragment,{children:t.map((e=>(0,C.jsx)(ee,{post:e},e.id)))});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(y.A,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:s?i:n}),t.length>8&&(0,C.jsx)(V.A,{count:8,sx:{mt:8,["& .".concat(G.A.ul)]:{justifyContent:"center"}}})]})}const se={publish:"all"};function ie(){const e=(0,f.Mp)(),[t,s]=(0,r.useState)("latest"),[i,n]=(0,r.useState)(se),[j,y]=(0,r.useState)(""),w=(0,p.d)(j),{posts:k,postsLoading:W}=function(){const e=g.vZ.post.list,{data:t,isLoading:s,error:i,isValidating:n}=(0,u.Ay)(e,g.GO);return(0,r.useMemo)((()=>({posts:(null===t||void 0===t?void 0:t.posts)||[],postsLoading:s,postsError:i,postsValidating:n,postsEmpty:!s&&!(null!==t&&void 0!==t&&t.posts.length)})),[null===t||void 0===t?void 0:t.posts,i,s,n])}(),{searchResults:I,searchLoading:T}=function(e){const t=e?[g.vZ.post.search,{params:{query:e}}]:"",{data:s,isLoading:i,error:n,isValidating:o}=(0,u.Ay)(t,g.GO,{keepPreviousData:!0});return(0,r.useMemo)((()=>({searchResults:(null===s||void 0===s?void 0:s.results)||[],searchLoading:i,searchError:n,searchValidating:o,searchEmpty:!i&&!(null!==s&&void 0!==s&&s.results.length)})),[null===s||void 0===s?void 0:s.results,n,i,o])}(w),U=ne({inputData:k,filters:i,sortBy:t}),L=(0,r.useCallback)((e=>{s(e)}),[]),P=(0,r.useCallback)(((e,t)=>{n((s=>({...s,[e]:t})))}),[]),z=(0,r.useCallback)((e=>{y(e)}),[]),F=(0,r.useCallback)(((e,t)=>{P("publish",t)}),[P]);return(0,C.jsxs)(c.A,{maxWidth:!e.themeStretch&&"lg",children:[(0,C.jsx)(v.A,{heading:"List",links:[{name:"Dashboard",href:h.f.dashboard.root},{name:"Blog",href:h.f.dashboard.post.root},{name:"List"}],action:(0,C.jsx)(d.A,{component:x.W,href:h.f.dashboard.post.new,variant:"contained",startIcon:(0,C.jsx)(b.A,{icon:"mingcute:add-line"}),children:"New Post"}),sx:{mb:{xs:3,md:5}}}),(0,C.jsxs)(a.A,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mb:{xs:3,md:5}},children:[(0,C.jsx)(D,{query:w,results:I,onSearch:z,loading:T,hrefItem:e=>h.f.dashboard.post.details(e)}),(0,C.jsx)(S,{sort:t,onSort:L,sortOptions:m.$z})]}),(0,C.jsx)(l.A,{value:i.publish,onChange:F,sx:{mb:{xs:3,md:5}},children:["all","published","draft"].map((e=>(0,C.jsx)(o.A,{iconPosition:"end",value:e,label:e,icon:(0,C.jsxs)(A.A,{variant:"all"===e||e===i.publish?"filled":"soft",color:"published"===e?"info":"default",children:["all"===e&&k.length,"published"===e&&k.filter((e=>"published"===e.publish)).length,"draft"===e&&k.filter((e=>"draft"===e.publish)).length]}),sx:{textTransform:"capitalize"}},e)))}),(0,C.jsx)(te,{posts:U,loading:W})]})}const ne=e=>{let{inputData:t,filters:s,sortBy:i}=e;const{publish:r}=s;return"latest"===i&&(t=n()(t,["createdAt"],["desc"])),"oldest"===i&&(t=n()(t,["createdAt"],["asc"])),"popular"===i&&(t=n()(t,["totalViews"],["desc"])),"all"!==r&&(t=t.filter((e=>e.publish===r))),t};var re=s(80899),oe=s(24858),le=s(18403),ae=s(26487),de=s(19042),ce=s(22075),he=s(79958),xe=s(38246),pe=s(99784),me=s(18303),ue=s(30291),ge=s(38699),je=s(83462),Ae=s(39336),be=s(29347),fe=s(64346),ve=s(91691),ye=s(13878),we=s(47500),ke=s(26353),Ce=s(26240),Se=s(90310),We=s(76040),Ie=s(74611);function Te(e){let{title:t,author:s,coverUrl:i,createdAt:n}=e;const r=(0,Ce.A)(),o=(0,N.Q)("up","sm");return(0,C.jsx)(y.A,{sx:{height:480,overflow:"hidden",...(0,Ie.ab)({imgUrl:i,startColor:"".concat((0,Se.X4)(r.palette.grey[900],.64)," 0%"),endColor:"".concat((0,Se.X4)(r.palette.grey[900],.64)," 100%")})},children:(0,C.jsxs)(c.A,{sx:{height:1,position:"relative"},children:[(0,C.jsx)(F.A,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:t}),(0,C.jsxs)(a.A,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[s&&n&&(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[(0,C.jsx)(P.A,{alt:s.name,src:s.avatarUrl,sx:{width:64,height:64,mr:2}}),(0,C.jsx)(ke.A,{sx:{color:"common.white"},primary:s.name,secondary:(0,_.ts)(n),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),(0,C.jsx)(we.A,{direction:o?"left":"up",ariaLabel:"Share post",icon:(0,C.jsx)(b.A,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:m.tP.map((e=>(0,C.jsx)(We.A,{icon:(0,C.jsx)(b.A,{icon:e.icon,sx:{color:e.color}}),tooltipTitle:e.name,tooltipPlacement:"top",FabProps:{color:"default"}},e.name)))})]})]})})}function Ue(e){let{title:t,coverUrl:s,content:i,description:n,open:r,isValid:o,onClose:l,onSubmit:h,isSubmitting:x}=e;const p=t||n||i||s,m=t||s;return(0,C.jsxs)(je.A,{fullScreen:!0,open:r,onClose:l,children:[(0,C.jsxs)(be.A,{sx:{py:2,px:3},children:[(0,C.jsx)(F.A,{variant:"h6",sx:{flexGrow:1},children:"Preview"}),(0,C.jsx)(d.A,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,C.jsx)(xe.A,{type:"submit",variant:"contained",disabled:!o,loading:x,onClick:h,children:"Post"})]}),(0,C.jsx)(Ae.A,{}),p?(0,C.jsxs)(ve.A,{children:[m&&(0,C.jsx)(Te,{title:t,coverUrl:s}),(0,C.jsx)(c.A,{sx:{mt:5,mb:10},children:(0,C.jsxs)(a.A,{sx:{maxWidth:720,mx:"auto"},children:[(0,C.jsx)(F.A,{variant:"h6",sx:{mb:5},children:n}),(0,C.jsx)(fe.A,{children:i})]})})]}):(0,C.jsx)(ye.A,{filled:!0,title:"Empty Content!"})]})}function Le(e){var t;let{currentPost:s}=e;const i=(0,E.rd)(),n=(0,N.Q)("up","md"),{enqueueSnackbar:o}=(0,ue.dh)(),l=(0,me.C)(),c=re.Ik().shape({title:re.Yj().required("Title is required"),description:re.Yj().required("Description is required"),content:re.Yj().required("Content is required"),coverUrl:re.gl().nullable().required("Cover is required"),tags:re.YO().min(2,"Must have at least 2 tags"),metaKeywords:re.YO().min(1,"Meta keywords is required"),metaTitle:re.Yj(),metaDescription:re.Yj()}),x=(0,r.useMemo)((()=>({title:(null===s||void 0===s?void 0:s.title)||"",description:(null===s||void 0===s?void 0:s.description)||"",content:(null===s||void 0===s?void 0:s.content)||"",coverUrl:(null===s||void 0===s?void 0:s.coverUrl)||null,tags:(null===s||void 0===s?void 0:s.tags)||[],metaKeywords:(null===s||void 0===s?void 0:s.metaKeywords)||[],metaTitle:(null===s||void 0===s?void 0:s.metaTitle)||"",metaDescription:(null===s||void 0===s?void 0:s.metaDescription)||""})),[s]),p=(0,oe.mN)({resolver:(0,le.t)(c),defaultValues:x}),{reset:u,watch:g,setValue:j,handleSubmit:A,formState:{isSubmitting:b,isValid:f}}=p,v=g();(0,r.useEffect)((()=>{s&&u(x)}),[s,x,u]);const y=A((async e=>{try{await new Promise((e=>setTimeout(e,500))),u(),l.onFalse(),o(s?"Update success!":"Create success!"),i.push(h.f.dashboard.post.root),console.info("DATA",e)}catch(t){console.error(t)}})),w=(0,r.useCallback)((e=>{const t=e[0],s=Object.assign(t,{preview:URL.createObjectURL(t)});t&&j("coverUrl",s,{shouldValidate:!0})}),[j]),k=(0,r.useCallback)((()=>{j("coverUrl",null)}),[j]),S=(0,C.jsxs)(C.Fragment,{children:[n&&(0,C.jsxs)(ce.A,{md:4,children:[(0,C.jsx)(F.A,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,C.jsx)(F.A,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,C.jsx)(ce.A,{xs:12,md:8,children:(0,C.jsxs)(K.A,{children:[!n&&(0,C.jsx)(he.A,{title:"Details"}),(0,C.jsxs)(a.A,{spacing:3,sx:{p:3},children:[(0,C.jsx)(ge.o3,{name:"title",label:"Post Title"}),(0,C.jsx)(ge.o3,{name:"description",label:"Description",multiline:!0,rows:3}),(0,C.jsxs)(a.A,{spacing:1.5,children:[(0,C.jsx)(F.A,{variant:"subtitle2",children:"Content"}),(0,C.jsx)(ge.CX,{simple:!0,name:"content"})]}),(0,C.jsxs)(a.A,{spacing:1.5,children:[(0,C.jsx)(F.A,{variant:"subtitle2",children:"Cover"}),(0,C.jsx)(ge.Y4,{name:"coverUrl",maxSize:3145728,onDrop:w,onDelete:k})]})]})]})})]}),W=(0,C.jsxs)(C.Fragment,{children:[n&&(0,C.jsxs)(ce.A,{md:4,children:[(0,C.jsx)(F.A,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,C.jsx)(F.A,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,C.jsx)(ce.A,{xs:12,md:8,children:(0,C.jsxs)(K.A,{children:[!n&&(0,C.jsx)(he.A,{title:"Properties"}),(0,C.jsxs)(a.A,{spacing:3,sx:{p:3},children:[(0,C.jsx)(ge.j2,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:m.JB.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,r.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,s)=>(0,r.createElement)(ae.A,{...t({index:s}),key:e,label:e,size:"small",color:"info",variant:"soft"})))}),(0,C.jsx)(ge.o3,{name:"metaTitle",label:"Meta title"}),(0,C.jsx)(ge.o3,{name:"metaDescription",label:"Meta description",fullWidth:!0,multiline:!0,rows:3}),(0,C.jsx)(ge.j2,{name:"metaKeywords",label:"Meta keywords",placeholder:"+ Keywords",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:m.JB.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,r.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,s)=>(0,r.createElement)(ae.A,{...t({index:s}),key:e,label:e,size:"small",color:"info",variant:"soft"})))}),(0,C.jsx)(pe.A,{control:(0,C.jsx)(de.A,{defaultChecked:!0}),label:"Enable comments"})]})]})})]}),I=(0,C.jsxs)(C.Fragment,{children:[n&&(0,C.jsx)(ce.A,{md:4}),(0,C.jsxs)(ce.A,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(pe.A,{control:(0,C.jsx)(de.A,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,C.jsx)(d.A,{color:"inherit",variant:"outlined",size:"large",onClick:l.onTrue,children:"Preview"}),(0,C.jsx)(xe.A,{type:"submit",variant:"contained",size:"large",loading:b,sx:{ml:2},children:s?"Save Changes":"Create Post"})]})]});return(0,C.jsxs)(ge.Ay,{methods:p,onSubmit:y,children:[(0,C.jsxs)(ce.A,{container:!0,spacing:3,children:[S,W,I]}),(0,C.jsx)(Ue,{title:v.title,content:v.content,description:v.description,coverUrl:"string"===typeof v.coverUrl?v.coverUrl:"".concat(null===(t=v.coverUrl)||void 0===t?void 0:t.preview),open:l.value,isValid:f,isSubmitting:b,onClose:l.onFalse,onSubmit:y})]})}function Pe(e){let{title:t}=e;const s=(0,f.Mp)(),{post:i}=j(t);return(0,C.jsxs)(c.A,{maxWidth:!s.themeStretch&&"lg",children:[(0,C.jsx)(v.A,{heading:"Edit",links:[{name:"Dashboard",href:h.f.dashboard.root},{name:"Blog",href:h.f.dashboard.post.root},{name:null===i||void 0===i?void 0:i.title}],sx:{mb:{xs:3,md:5}}}),(0,C.jsx)(Le,{currentPost:i})]})}function ze(){const e=(0,f.Mp)();return(0,C.jsxs)(c.A,{maxWidth:!e.themeStretch&&"lg",children:[(0,C.jsx)(v.A,{heading:"Create a new post",links:[{name:"Dashboard",href:h.f.dashboard.root},{name:"Blog",href:h.f.dashboard.post.root},{name:"Create"}],sx:{mb:{xs:3,md:5}}}),(0,C.jsx)(Le,{})]})}var Fe=s(1273),Re=s(46936),Oe=s(86826),qe=s(30681);function Ee(e){let{name:t,avatarUrl:s,message:i,tagUser:n,postedAt:r,hasReply:o}=e;const l=(0,me.C)();return(0,C.jsxs)(qe.Ay,{sx:{p:0,pt:3,alignItems:"flex-start",...o&&{pl:8}},children:[(0,C.jsx)(P.A,{alt:t,src:s,sx:{mr:2,width:48,height:48}}),(0,C.jsxs)(a.A,{flexGrow:1,sx:{pb:3,borderBottom:e=>"solid 1px ".concat(e.palette.divider)},children:[(0,C.jsx)(F.A,{variant:"subtitle2",sx:{mb:.5},children:t}),(0,C.jsx)(F.A,{variant:"caption",sx:{color:"text.disabled"},children:(0,_.ts)(r)}),(0,C.jsxs)(F.A,{variant:"body2",sx:{mt:1},children:[n&&(0,C.jsxs)(y.A,{component:"strong",sx:{mr:.5},children:["@",n]}),i]}),l.value&&(0,C.jsx)(y.A,{sx:{mt:2},children:(0,C.jsx)(z.A,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!o&&(0,C.jsx)(d.A,{size:"small",color:l.value?"primary":"inherit",startIcon:(0,C.jsx)(b.A,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function Be(e){let{comments:t}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(C.Fragment,{children:t.map((e=>{const{id:t,replyComment:s,name:i,users:n,message:r,avatarUrl:o,postedAt:l}=e,a=!!s.length;return(0,C.jsxs)(y.A,{children:[(0,C.jsx)(Ee,{name:i,message:r,postedAt:l,avatarUrl:o}),a&&s.map((e=>{const t=n.find((t=>t.id===e.userId));return(0,C.jsx)(Ee,{name:(null===t||void 0===t?void 0:t.name)||"",message:e.message,postedAt:e.postedAt,avatarUrl:(null===t||void 0===t?void 0:t.avatarUrl)||"",tagUser:e.tagUser,hasReply:!0},e.id)}))]},t)}))}),(0,C.jsx)(V.A,{count:8,sx:{my:5,mx:"auto"}})]})}function De(){const e=re.Ik().shape({comment:re.Yj().required("Comment is required"),name:re.Yj().required("Name is required"),email:re.Yj().required("Email is required").email("Email must be a valid email address")}),t=(0,oe.mN)({resolver:(0,le.t)(e),defaultValues:{comment:"",name:"",email:""}}),{reset:s,handleSubmit:i,formState:{isSubmitting:n}}=t,r=i((async e=>{try{await new Promise((e=>setTimeout(e,500))),s(),console.info("DATA",e)}catch(t){console.error(t)}}));return(0,C.jsx)(ge.Ay,{methods:t,onSubmit:r,children:(0,C.jsxs)(a.A,{spacing:3,children:[(0,C.jsx)(ge.o3,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",flexGrow:1,children:[(0,C.jsx)(Q.A,{children:(0,C.jsx)(b.A,{icon:"solar:gallery-add-bold"})}),(0,C.jsx)(Q.A,{children:(0,C.jsx)(b.A,{icon:"eva:attach-2-fill"})}),(0,C.jsx)(Q.A,{children:(0,C.jsx)(b.A,{icon:"eva:smiling-face-fill"})})]}),(0,C.jsx)(xe.A,{type:"submit",variant:"contained",loading:n,children:"Post comment"})]})]})})}var Ve=s(77739);function Ge(e){let{publish:t,backLink:s,editLink:i,liveLink:n,publishOptions:r,onChangePublish:o,sx:l,...c}=e;const h=(0,k.f)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.A,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...l},...c,children:[(0,C.jsx)(d.A,{component:x.W,href:s,startIcon:(0,C.jsx)(b.A,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,C.jsx)(y.A,{sx:{flexGrow:1}}),"published"===t&&(0,C.jsx)(Ve.A,{title:"Go Live",children:(0,C.jsx)(Q.A,{component:x.W,href:n,children:(0,C.jsx)(b.A,{icon:"eva:external-link-fill"})})}),(0,C.jsx)(Ve.A,{title:"Edit",children:(0,C.jsx)(Q.A,{component:x.W,href:i,children:(0,C.jsx)(b.A,{icon:"solar:pen-bold"})})}),(0,C.jsx)(xe.A,{color:"inherit",variant:"contained",loading:!t,loadingIndicator:"Loading\u2026",endIcon:(0,C.jsx)(b.A,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:t})]}),(0,C.jsx)(k.A,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:r.map((e=>(0,C.jsxs)(w.A,{selected:e.value===t,onClick:()=>{h.onClose(),o(e.value)},children:["published"===e.value&&(0,C.jsx)(b.A,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,C.jsx)(b.A,{icon:"solar:file-text-bold"}),e.label]},e.value)))})]})}function Me(e){let{title:t}=e;const[s,i]=(0,r.useState)(""),{post:n,postLoading:o,postError:l}=j(t),p=(0,r.useCallback)((e=>{i(e)}),[]);(0,r.useEffect)((()=>{n&&i(null===n||void 0===n?void 0:n.publish)}),[n]);const u=(0,C.jsx)(H,{}),g=(0,C.jsx)(ye.A,{filled:!0,title:"".concat(null===l||void 0===l?void 0:l.message),action:(0,C.jsx)(d.A,{component:x.W,href:h.f.dashboard.post.root,startIcon:(0,C.jsx)(b.A,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),A=n&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ge,{backLink:h.f.dashboard.post.root,editLink:h.f.dashboard.post.edit("".concat(null===n||void 0===n?void 0:n.title)),liveLink:h.f.post.details("".concat(null===n||void 0===n?void 0:n.title)),publish:s||"",onChangePublish:p,publishOptions:m.k_}),(0,C.jsx)(Te,{title:n.title,coverUrl:n.coverUrl}),(0,C.jsxs)(a.A,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[(0,C.jsx)(F.A,{variant:"subtitle1",sx:{mb:5},children:n.description}),(0,C.jsx)(fe.A,{children:n.content}),(0,C.jsxs)(a.A,{spacing:3,sx:{py:3,borderTop:e=>"dashed 1px ".concat(e.palette.divider),borderBottom:e=>"dashed 1px ".concat(e.palette.divider)},children:[(0,C.jsx)(a.A,{direction:"row",flexWrap:"wrap",spacing:1,children:n.tags.map((e=>(0,C.jsx)(ae.A,{label:e,variant:"soft"},e)))}),(0,C.jsxs)(a.A,{direction:"row",alignItems:"center",children:[(0,C.jsx)(pe.A,{control:(0,C.jsx)(Fe.A,{defaultChecked:!0,size:"small",color:"error",icon:(0,C.jsx)(b.A,{icon:"solar:heart-bold"}),checkedIcon:(0,C.jsx)(b.A,{icon:"solar:heart-bold"})}),label:(0,Z.Rn)(n.totalFavorites),sx:{mr:1}}),(0,C.jsx)(Re.A,{sx:{["& .".concat(Oe.A.avatar)]:{width:32,height:32}},children:n.favoritePerson.map((e=>(0,C.jsx)(P.A,{alt:e.name,src:e.avatarUrl},e.name)))})]})]}),(0,C.jsxs)(a.A,{direction:"row",sx:{mb:3,mt:5},children:[(0,C.jsx)(F.A,{variant:"h4",children:"Comments"}),(0,C.jsxs)(F.A,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",n.comments.length,")"]})]}),(0,C.jsx)(De,{}),(0,C.jsx)(Ae.A,{sx:{mt:5,mb:2}}),(0,C.jsx)(Be,{comments:n.comments})]})]});return(0,C.jsxs)(c.A,{maxWidth:!1,children:[o&&u,l&&g,n&&A]})}s(62283)}}]);
//# sourceMappingURL=6238.70d177e9.chunk.js.map