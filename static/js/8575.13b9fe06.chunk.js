"use strict";(self.webpackChunktelyza=self.webpackChunktelyza||[]).push([[8575],{58575:(e,r,t)=>{t.d(r,{G:()=>S,k:()=>C});var o=t(80899),n=t(65043),a=t(24858),s=t(18403),l=t(88446),i=t(71861),c=t(88911),d=t(71716),u=t(94496),p=t(38246),h=t(51787),A=t(21809),v=t(27399),m=t(55744),g=t(68713),x=t(18303),y=t(20144),f=t(35488),j=t(77628),w=t(38699),b=t(70579);function S(){const{login:e}=(0,y.Z)(),{t:r}=(0,A.WD)(),t=(0,g.rd)(),[S,C]=(0,n.useState)(""),M=(0,g.ok)().get("returnTo"),z=(0,x.C)(),P=o.Ik().shape({password:o.Yj().required(r("auth.passwordRequired"))}),k=(0,a.mN)({resolver:(0,s.t)(P),defaultValues:{phone:"",password:""}}),{reset:R,handleSubmit:T,formState:{isSubmitting:I}}=k;const q=T((async o=>{if(null!==o&&void 0!==o&&o.phone&&""!==(null===o||void 0===o?void 0:o.phone))try{await(null===e||void 0===e?void 0:e(o)),t.push(M||f.zt)}catch(n){R(),C(function(e){var t,o;if(null!==(t=e.response)&&void 0!==t&&t.data){var n,a;const{data:t}=e.response;if("string"===typeof t)return t;if(Array.isArray(t))return t[0];if(t.detail)return t.detail;if(null!==(n=t.phone)&&void 0!==n&&n.length)return t.phone[0];if(null!==(a=t.non_field_errors)&&void 0!==a&&a.length)return r("error.".concat(t.non_field_errors[0]))}if(null!==(o=e.response)&&void 0!==o&&o.error){const{error:r}=e.response;if("string"===typeof r)return r;if(Array.isArray(r))return r[0];if(r.detail)return r.detail}return"An error occurred. Please try again."}(n)||r("errorOccurred"))}else C(r("auth.phoneRequired"))})),L=(0,b.jsxs)(c.A,{spacing:2,sx:{mb:5},children:[(0,b.jsx)(u.A,{variant:"h4",children:r("auth.signInTitle")}),(0,b.jsxs)(c.A,{direction:"row",spacing:.5,children:[(0,b.jsx)(u.A,{variant:"body2",children:r("auth.newOnPlatform")}),(0,b.jsx)(l.A,{component:m.W,href:v.f.auth.jwt.register,variant:"subtitle2",children:r("auth.createAccount")})]})]}),O=(0,b.jsxs)(c.A,{spacing:2.5,children:[(0,b.jsx)(w.nU,{name:"phone",label:r("auth.phone")}),(0,b.jsx)(w.o3,{name:"password",label:r("auth.password"),type:z.value?"text":"password",InputProps:{endAdornment:(0,b.jsx)(h.A,{position:"end",children:(0,b.jsx)(d.A,{onClick:z.onToggle,edge:"end",children:(0,b.jsx)(j.A,{icon:z.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,b.jsx)(l.A,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:r("auth.forgotPassword")}),(0,b.jsx)(p.A,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:I,children:r("auth.login")})]});return(0,b.jsxs)(b.Fragment,{children:[L,!!S&&(0,b.jsx)(i.A,{severity:"error",sx:{mb:3},children:S}),(0,b.jsx)(w.Ay,{methods:k,onSubmit:q,children:O})]})}function C(){const{t:e}=(0,A.WD)(),{register:r}=(0,y.Z)(),t=(0,g.rd)(),[S,C]=(0,n.useState)(""),M=(0,g.ok)().get("returnTo"),z=(0,x.C)(),P=o.Ik().shape({phone:o.Yj().required(e("auth.phoneRequired")),country:o.Yj().required(),password:o.Yj().required(e("auth.passwordRequired")),confirmPassword:o.Yj().oneOf([o.KR("password"),void 0],e("auth.passwordsMustMatch")).required(e("auth.confirmPasswordRequired")),acceptTerms:o.zM().oneOf([!0],e("auth.acceptTermsRequired")).required(e("auth.acceptTermsRequired"))}),k=(0,a.mN)({resolver:(0,s.t)(P),defaultValues:{phone:"",password:"",country:"CL",confirmPassword:"",acceptTerms:!1}}),{reset:R,handleSubmit:T,setValue:I,formState:{isSubmitting:q}}=k;const L=T((async o=>{if(null!==o&&void 0!==o&&o.phone&&""!==(null===o||void 0===o?void 0:o.phone))try{await(null===r||void 0===r?void 0:r(o)),t.push(M||f.zt)}catch(n){console.error(n),R(),C(function(e){var r,t;if(null!==(r=e.response)&&void 0!==r&&r.data){var o;const{data:r}=e.response;if("string"===typeof r)return r;if(Array.isArray(r))return r[0];if(r.detail)return r.detail;if(null!==(o=r.phone)&&void 0!==o&&o.length)return r.phone[0]}if(null!==(t=e.response)&&void 0!==t&&t.error){const{error:r}=e.response;if("string"===typeof r)return r;if(Array.isArray(r))return r[0];if(r.detail)return r.detail}return"An error occurred. Please try again."}(n)||e("errorOccurred"))}else C(e("auth.phoneRequired"))})),O=(0,b.jsxs)(c.A,{spacing:2,sx:{mb:2,position:"relative"},children:[(0,b.jsx)(u.A,{variant:"h4",children:e("auth.getStarted")}),(0,b.jsxs)(c.A,{direction:"row",spacing:.5,children:[(0,b.jsxs)(u.A,{variant:"body2",children:[" ",e("auth.alreadyHaveAccount")," "]}),(0,b.jsx)(l.A,{href:v.f.auth.jwt.login,component:m.W,variant:"subtitle2",children:e("auth.signIn")})]})]}),N=(0,b.jsxs)(u.A,{component:"div",sx:{mt:2.5,textAlign:"center",typography:"caption",color:"text.secondary"},children:["".concat(e("auth.bySigningUp")," "),(0,b.jsx)(l.A,{underline:"always",color:"text.primary",children:e("auth.termsOfService")})," & ",(0,b.jsx)(l.A,{underline:"always",color:"text.primary",children:e("auth.privacyPolicy")}),"."]}),W=(0,b.jsxs)(c.A,{spacing:2,children:[(0,b.jsx)(w.nU,{name:"phone",label:e("auth.phone"),onCountryChange:e=>I("country",e)}),(0,b.jsx)(w.o3,{name:"password",label:e("auth.password"),type:z.value?"text":"password",InputProps:{endAdornment:(0,b.jsx)(h.A,{position:"end",children:(0,b.jsx)(d.A,{onClick:z.onToggle,edge:"end",children:(0,b.jsx)(j.A,{icon:z.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,b.jsx)(w.o3,{name:"confirmPassword",label:e("auth.confirmPassword"),type:z.value?"text":"password",InputProps:{endAdornment:(0,b.jsx)(h.A,{position:"end",children:(0,b.jsx)(d.A,{onClick:z.onToggle,edge:"end",children:(0,b.jsx)(j.A,{icon:z.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),(0,b.jsx)(w.SF,{name:"acceptTerms",label:e("auth.acceptTerms")}),(0,b.jsx)(p.A,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:q,children:e("auth.createAccount")})]});return(0,b.jsxs)(b.Fragment,{children:[O,S?(0,b.jsx)(i.A,{severity:"error",sx:{mb:3},children:S}):(0,b.jsx)(b.Fragment,{}),(0,b.jsx)(w.Ay,{methods:k,onSubmit:L,children:W}),N]})}},71861:(e,r,t)=>{t.d(r,{A:()=>R});var o=t(98587),n=t(58168),a=t(65043),s=t(58387),l=t(68606),i=t(67266),c=t(44350),d=t(34535),u=t(4162),p=t(6803),h=t(8555),A=t(70962),v=t(71716),m=t(66734),g=t(70579);const x=(0,m.A)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=(0,m.A)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),f=(0,m.A)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),j=(0,m.A)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var w=t(16871);const b=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],S=(0,c.h)("MuiAlert"),C=(0,d.Ay)(h.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["".concat(t.variant).concat((0,p.A)(t.color||t.severity))]]}})((e=>{let{theme:r}=e;const t="light"===r.palette.mode?i.e$:i.a,o="light"===r.palette.mode?i.a:i.e$;return(0,n.A)({},r.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(r.palette).filter((e=>{let[,r]=e;return r.main&&r.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:r.vars?r.vars.palette.Alert["".concat(n,"Color")]:t(r.palette[n].light,.6),backgroundColor:r.vars?r.vars.palette.Alert["".concat(n,"StandardBg")]:o(r.palette[n].light,.9),["& .".concat(A.A.icon)]:r.vars?{color:r.vars.palette.Alert["".concat(n,"IconColor")]}:{color:r.palette[n].main}}}})),...Object.entries(r.palette).filter((e=>{let[,r]=e;return r.main&&r.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:r.vars?r.vars.palette.Alert["".concat(o,"Color")]:t(r.palette[o].light,.6),border:"1px solid ".concat((r.vars||r).palette[o].light),["& .".concat(A.A.icon)]:r.vars?{color:r.vars.palette.Alert["".concat(o,"IconColor")]}:{color:r.palette[o].main}}}})),...Object.entries(r.palette).filter((e=>{let[,r]=e;return r.main&&r.dark})).map((e=>{let[t]=e;return{props:{colorSeverity:t,variant:"filled"},style:(0,n.A)({fontWeight:r.typography.fontWeightMedium},r.vars?{color:r.vars.palette.Alert["".concat(t,"FilledColor")],backgroundColor:r.vars.palette.Alert["".concat(t,"FilledBg")]}:{backgroundColor:"dark"===r.palette.mode?r.palette[t].dark:r.palette[t].main,color:r.palette.getContrastText(r.palette[t].main)})}}))]})})),M=(0,d.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,r)=>r.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),z=(0,d.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,r)=>r.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),P=(0,d.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,r)=>r.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),k={success:(0,g.jsx)(x,{fontSize:"inherit"}),warning:(0,g.jsx)(y,{fontSize:"inherit"}),error:(0,g.jsx)(f,{fontSize:"inherit"}),info:(0,g.jsx)(j,{fontSize:"inherit"})},R=a.forwardRef((function(e,r){const t=S({props:e,name:"MuiAlert"}),{action:a,children:i,className:c,closeText:d="Close",color:h,components:m={},componentsProps:x={},icon:y,iconMapping:f=k,onClose:j,role:R="alert",severity:T="success",slotProps:I={},slots:q={},variant:L="standard"}=t,O=(0,o.A)(t,b),N=(0,n.A)({},t,{color:h,severity:T,variant:L,colorSeverity:h||T}),W=(e=>{const{variant:r,color:t,severity:o,classes:n}=e,a={root:["root","color".concat((0,p.A)(t||o)),"".concat(r).concat((0,p.A)(t||o)),"".concat(r)],icon:["icon"],message:["message"],action:["action"]};return(0,l.A)(a,A.X,n)})(N),F={slots:(0,n.A)({closeButton:m.CloseButton,closeIcon:m.CloseIcon},q),slotProps:(0,n.A)({},x,I)},[H,V]=(0,u.A)("closeButton",{elementType:v.A,externalForwardedProps:F,ownerState:N}),[B,Y]=(0,u.A)("closeIcon",{elementType:w.A,externalForwardedProps:F,ownerState:N});return(0,g.jsxs)(C,(0,n.A)({role:R,elevation:0,ownerState:N,className:(0,s.A)(W.root,c),ref:r},O,{children:[!1!==y?(0,g.jsx)(M,{ownerState:N,className:W.icon,children:y||f[T]||k[T]}):null,(0,g.jsx)(z,{ownerState:N,className:W.message,children:i}),null!=a?(0,g.jsx)(P,{ownerState:N,className:W.action,children:a}):null,null==a&&j?(0,g.jsx)(P,{ownerState:N,className:W.action,children:(0,g.jsx)(H,(0,n.A)({size:"small","aria-label":d,title:d,color:"inherit",onClick:j},V,{children:(0,g.jsx)(B,(0,n.A)({fontSize:"small"},Y))}))}):null]}))}))}}]);
//# sourceMappingURL=8575.13b9fe06.chunk.js.map